---
ID: 458
post_title: 'AngularJS : Getting Started'
author: mlux
post_date: 2013-05-23 09:30:00
post_excerpt: '<p>Cet article fait suite à mon premier article sur AngularJS&nbsp;: <a href="http://blog.zenika.com/index.php?post/2013/03/04/AngularJS-%3A-la-philosophie">AngularJS: la philosophie</a></p> <p>Voici enfin la suite des articles pour AngularJS. Après la théorie, nous allons nous lancer dans la création d’un projet avec AngularJS afin de voir à quoi cela ressemble vraiment.</p> <p>Quitte à décevoir ceux qui ont vu mon livecoding, j’ai choisi d’en reprendre les grandes lignes dans cet article. Il était justement pensé pour être didactique sur le démarrage avec AngularJS et d’en montrer rapidement les fonctionnalités vraiment intéressantes.</p> <p>Le choix du code que nous allons parcourir a été fait dans le but d’éviter le désormais célèbre Twitter Wall et de faire quelque chose que nous devons tous, en tant que développeur, réaliser trop souvent&nbsp;: une interface de CRUD. Il s’agit en somme d’afficher des données et de permettre de les modifier avec un formulaire. Si d’autres solutions demandent souvent beaucoup de code passe plats pour réaliser ce genre d’interfaces, nous verrons qu’AngularJS est vraiment très optimisé dans ce cas d’utilisation.</p> <p>Afin que l’exemple soit réellement complet, nous allons partir de la page blanche et en profiter pour parler d’un outil vraiment intéressant, qui permet d’accélérer et de consolider les développements Web&nbsp;: Yeoman.</p> <p>J’ai été largement aidé dans la rédaction de cet article par Cédric Nisio qui travaille également sur AngularJS chez Zenika.</p> <p>Les sources présentées ici sont toutes disponibles sur GitHub&nbsp;: <a href="https://github.com/Swiip/yeoman-angular">https://github.com/Swiip/yeoman-angular</a>. Le repository contient également les slides (une version OpenOffice et une JavaScript) que j’ai utilisé lors des présentations.</p>'
layout: post
permalink: http://blog.zenika-offres.com/?p=458
published: true
slide_template:
  - ""
---
<p>Cet article fait suite à mon premier article sur AngularJS&nbsp;: <a href="http://blog.zenika.com/index.php?post/2013/03/04/AngularJS-%3A-la-philosophie">AngularJS: la philosophie</a></p> <p>Voici enfin la suite des articles pour AngularJS. Après la théorie, nous allons nous lancer dans la création d’un projet avec AngularJS afin de voir à quoi cela ressemble vraiment.</p> <p>Quitte à décevoir ceux qui ont vu mon livecoding, j’ai choisi d’en reprendre les grandes lignes dans cet article. Il était justement pensé pour être didactique sur le démarrage avec AngularJS et d’en montrer rapidement les fonctionnalités vraiment intéressantes.</p> <p>Le choix du code que nous allons parcourir a été fait dans le but d’éviter le désormais célèbre Twitter Wall et de faire quelque chose que nous devons tous, en tant que développeur, réaliser trop souvent&nbsp;: une interface de CRUD. Il s’agit en somme d’afficher des données et de permettre de les modifier avec un formulaire. Si d’autres solutions demandent souvent beaucoup de code passe plats pour réaliser ce genre d’interfaces, nous verrons qu’AngularJS est vraiment très optimisé dans ce cas d’utilisation.</p> <p>Afin que l’exemple soit réellement complet, nous allons partir de la page blanche et en profiter pour parler d’un outil vraiment intéressant, qui permet d’accélérer et de consolider les développements Web&nbsp;: Yeoman.</p> <p>J’ai été largement aidé dans la rédaction de cet article par Cédric Nisio qui travaille également sur AngularJS chez Zenika.</p> <p>Les sources présentées ici sont toutes disponibles sur GitHub&nbsp;: <a href="https://github.com/Swiip/yeoman-angular">https://github.com/Swiip/yeoman-angular</a>. Le repository contient également les slides (une version OpenOffice et une JavaScript) que j’ai utilisé lors des présentations.</p>
<!--more-->
<h4>Yeoman</h4> <p>Yeoman est un projet lancé par des grands noms du Web tel que Paul Irish ou Addy Osmani, dans le but d’améliorer le workflow des développements d’interfaces Web. Pour cela, Yeoman propose un enchainement de trois outils&nbsp;: Yo, qui permet de générer la base d’un projet, Bower, qui gère les dépendances des librairies, et Grunt, qui réalise les tâches de Build.</p> <p>Ces outils sont écrits en JavaScript et fonctionnent avec NodeJS (mais n’imposent aucune dépendance à NodeJS pour le fonctionnement du site produit). L’installation se fait avec le gestionnaire de paquets de NodeJS, npm (Node Package Manager) et la ligne de commande suivante&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">npm <span style="color: #c20cb9; font-weight: bold;">install</span> <span style="color: #660033;">-g</span> yo grunt-cli bower</pre> <p>Plus d’informations sur <a href="http://yeoman.io/">http://yeoman.io/</a></p> <p>Si l’installation de Yeoman pose problème ou si cette partie ne vous intéresse pas, vous pouvez également partir du projet <a href="https://github.com/angular/angular-seed">https://github.com/angular/angular-seed</a>.</p> <h5>Yo</h5> <p>La commande yo permet de générer la base de notre projet web. Il existe de nombreux “generator” qui permettent de démarrer des projets avec différents frameworks (EmberJS, BackboneJS...). Nous utiliserons bien entendu le générateur spécifique à AngularJS dont voici quelques utilisations courantes&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">yo angular <span style="color: #000000; font-weight: bold;">&lt;</span>appName<span style="color: #000000; font-weight: bold;">&gt;</span> : génère l’application avec le nom <span style="color: #000000; font-weight: bold;">&lt;</span>appName<span style="color: #000000; font-weight: bold;">&gt;</span>App avec un contrôleur et une vue par défaut. yo angular:<span style="color: #000000; font-weight: bold;">&lt;</span>templateName<span style="color: #000000; font-weight: bold;">&gt;</span> : génère les fichiers correspondant au template <span style="color: #000000; font-weight: bold;">&lt;</span>templateName<span style="color: #000000; font-weight: bold;">&gt;</span>. Les <span style="color: #c20cb9; font-weight: bold;">diff</span>érents templates disponibles sont : controller, service, directive, view, route, filter et app par défaut.</pre> <p>Exemple&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">yo angular:route <span style="color: #000000; font-weight: bold;">&lt;</span>routeName<span style="color: #000000; font-weight: bold;">&gt;</span> : génère le contrôleur <span style="color: #000000; font-weight: bold;">&lt;</span>routeName<span style="color: #000000; font-weight: bold;">&gt;</span>Ctrl, la vue <span style="color: #000000; font-weight: bold;">&lt;</span>routeName<span style="color: #000000; font-weight: bold;">&gt;</span> et ajoute la règle de routage dans le fichier de déclaration <span style="color: #c20cb9; font-weight: bold;">du</span> module Angular.</pre> <h5>Bower</h5> <p>Avec bower, le Web bénéficie aujourd’hui de son propre gestionnaire de dépendances&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">bower search <span style="color: #000000; font-weight: bold;">&lt;</span>libName<span style="color: #000000; font-weight: bold;">&gt;</span>	rechercher une librairie dans la base de bower bower <span style="color: #c20cb9; font-weight: bold;">install</span> <span style="color: #000000; font-weight: bold;">&lt;</span>libName<span style="color: #000000; font-weight: bold;">&gt;</span>	installer une librairie bower update <span style="color: #000000; font-weight: bold;">&lt;</span>libName<span style="color: #000000; font-weight: bold;">&gt;</span>	mettre à jour une librairie bower list				générer l’arbre des dépendances</pre> <h5>Grunt</h5> <p>Grunt est l’outil de build du monde JavaScript. Il est très outillé en vue de réaliser très simplement les tâches courantes du Web. Dans un projet produit par un générateur Yeoman, la configuration de Grunt est déjà très complète&nbsp;: le build contient par défaut plusieurs étapes telles que le lancement des tests avec Karma, la concaténation et minification du JavaScript, la compilation des langages comme CoffeeScript. On obtient, si les tests passent, un répertoire dist contenant tout le nécessaire pour déployer notre application.</p> <pre class="bash code bash" style="font-family:inherit">grunt server	lancer un serveur afin de tester notre application, avec une fonctionnalité notable : le LiveReload, qui permet au serveur de recharger la page automatiquement dès qu’une des sources a été modifiée. grunt <span style="color: #7a0874; font-weight: bold;">test</span>	lancer les tests grunt		construire l’application</pre> <h4>Hello World</h4> <p>Tout d’abord, nous allons écrire le classique Hello World, mais avec un petit plus, pour montrer une fonctionnalité au coeur d’AngularJS, le databinding.</p> <p>Si vous ne l’avez pas déjà fait, commençons par générer la base de notre projet avec la commande suivante&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">yo angular myApp</pre> <p>Acceptez les différentes options proposées par le générateur, notamment Twitter Bootstrap, afin d’avoir un rendu plus propre, et angular-resource, que nous utiliserons par la suite.</p> <p>Remplacez le code généré dans le fichier app/views/main.html par&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;hero-unit&quot;</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">h1</span>&gt;</span>{{hello}}<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">h1</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">input</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> ng-model<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;hello&quot;</span> <span style="color: #66cc66;">/</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre> <p>La notation entre double accolades signifie qu’il s’agit d’un appel AngularJS. L’attribut ng-model dans la balise input est une balise AngularJS, qui permet ici de lier la variable hello au champ de texte. En appelant grunt server maintenant, vous ne verrez qu’un champ de texte vide, mais si vous y écrivez quelque chose, la balise h1 sera mise à jour immédiatement.</p> <p>Nous allons maintenant initialiser la variable hello à “Hello World!” dans le contrôleur de cette vue. Pour ceci, dans le fichier app/scripts/controllers/main.js remplacez le code entre accolades par&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit">$scope.<span style="color: #660066;">hello</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'Hello World !'</span>;</pre> <p>La variable $scope correspond à l’environnement des variables disponibles dans la vue, par les appels entre double accolades ou dans les attributs AngularJS. En enregistrant le fichier, si vous avez laissé le serveur grunt tourner, la page devrait se rafraîchir automatiquement et afficher le “Hello World !” tant attendu.</p> <h4>Démarrage du serveur</h4> <p>Par la suite, nous utiliserons un serveur exposant des ressources en REST, pour simuler un backend. Le contenu du répertoire server du dépôt github permet de lancer un serveur RESTful en NodeJS / ExpressJS à partir d'un serveur MongoDB. Il y en a deux versions, une qui demande un serveur MongoDB en local sur la machine&n
bsp;: offline.js et l'autre qui utilise le service MongoHQ&nbsp;: app.js. Lancez le serveur, en exécutant l’une des commandes suivantes&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">node offline</pre> <p>ou</p> <pre class="bash code bash" style="font-family:inherit">node app</pre> <h4>Service REST AngularJS</h4> <p>Interressons nous maintenant à l’accès à des données via une interface REST afin de réaliser une application CRUD.</p> <p>Dans notre exemple, nous utiliserons la librairie angular ngResource. Si elle fait partie du projet AngularJS, elle reste sous forme de librairie optionnelle. Pour l’ajouter aux dépendances, il faut modifier le fichier de déclaration du module angular, app/scripts/app.js, comme ceci&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit">angular.<span style="color: #660066;">module</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'myApp'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'ngResource'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> 	.<span style="color: #660066;">config</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>$routeProvider<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 		$routeProvider.<span style="color: #660066;">when</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'/'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span> 			templateUrl<span style="color: #339933;">:</span> <span style="color: #3366CC;">'views/main.html'</span><span style="color: #339933;">,</span> 			controller<span style="color: #339933;">:</span> <span style="color: #3366CC;">'MainCtrl'</span> 		<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span> 		.<span style="color: #660066;">otherwise</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#123;</span> 			redirectTo<span style="color: #339933;">:</span> <span style="color: #3366CC;">'/'</span> 		<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span>; 	<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span>;</pre> <p>Appelez ensuite la commande suivante depuis la racine du projet&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">yo angular:service Frameworks</pre> <p>Puis, modifiez le code du fichier généré, app/scripts/services/Frameworks.js, comme ceci&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit">angular.<span style="color: #660066;">module</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'myApp'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">factory</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'Frameworks'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>$resource<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 	<span style="color: #000066; font-weight: bold;">return</span> $resource<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'http://localhost<span style="color: #000099; font-weight: bold;">\</span>:1234/frameworks/:id'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span> 		id<span style="color: #339933;">:</span> <span style="color: #3366CC;">'@_id'</span> 	<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span>; <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span>;</pre> <p>$resource est un objet fourni par la librairie ngResource qui sera injecté automatiquement par le système d’injection de dépendance d’AngularJS. L’URL spécifiée en paramètre est en fait un template d’URL. Le paramètre :id sera ignoré pour les requêtes s’adressant à la ressource en général (comme get all) et sera automatiquement remplacé par la valeur de la propriété “_id” pour les requêtes unitaires (comme update ou delete).</p> <h4>Affichage des données</h4> <p>Passons à l’affichage des frameworks, dans le fichier app/views/main.html&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">table</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;table table-striped table-bordered&quot;</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">thead</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">tr</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">th</span>&gt;</span>Name<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">th</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">th</span>&gt;</span>URL<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">th</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">tr</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">thead</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">tbody</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">tr</span> ng-repeat<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;framework in frameworks&quot;</span> ng-click<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;edit(framework)&quot;</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">td</span>&gt;</span>{{framework.name}}<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">td</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">td</span>&gt;</span>{{framework.url}}<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">td</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">tr</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">tbody</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">table</span>&gt;</span></pre> <p>Regardons de plus près la balise ng-repeat. Elle permet de définir un traitement à appliquer à chaque élément d’un array. Ainsi la balise tr (et tout son contenu) sera répétée autant de fois qu’il y a d’éléments dans le tableau frameworks. À l’intérieur de la balise tr, la variable framework correspond à l’élément courant du tableau.</p> <p>L’attribut ng-click permet de spécifier un comportement sur un clic, ici sur une ligne du tableau.</p> <p>Notez que nous n’avons pas encore défini la fonction edit prenant un framework en paramètre. Nous y viendrons.</p> <p>Si vous rafraîchissez la page, vous ne verrez qu’un tableau vide. Ajoutons-lui quelques lignes en récupérant les données du backend. Dans le fichier app/spcripts/controllers/main.js, déclarez la dépendance au service Framework et récupérez les données du backend dans la variable framew
orks comme ceci&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit">angular.<span style="color: #660066;">module</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'myApp'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">controller</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MainCtrl'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>$scope<span style="color: #339933;">,</span> Frameworks<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 	$scope.<span style="color: #660066;">frameworks</span> <span style="color: #339933;">=</span> Frameworks.<span style="color: #660066;">query</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>; <span style="color: #009900;">&#125;</span></pre> <p>Bien que l’appel derrière Frameworks.query() soit asynchrone, il n’est pas utile d’utiliser un callback. La fonction retourne un objet vide qui sera par la suite enrichie avec les données récupérée. Lorsque ce sera le cas, le databinding bidirectionnel d’AngularJS mettra automatiquement à jour la vue.</p> <p>Notre tableau devrait maintenant contenir quelques lignes.</p> <h4>Modification, ajout et suppression</h4> <p>Pour la modification et l’ajout, déclarez une modal bootstrap dans la vue app/views/main.html</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">button</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;btn&quot;</span> ng-click<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;edit({})&quot;</span>&gt;</span>Add<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">button</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;modal hide fade&quot;</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;modal-header&quot;</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">h3</span>&gt;</span>Edit<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">h3</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;modal-body&quot;</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">label</span>&gt;</span>Name<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">label</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">input</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> ng-model<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;framework.name&quot;</span><span style="color: #66cc66;">/</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">label</span>&gt;</span>URL<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">label</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">input</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> ng-model<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;framework.url&quot;</span><span style="color: #66cc66;">/</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;modal-footer&quot;</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">button</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;btn&quot;</span> ng-click<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;save()&quot;</span>&gt;</span>Save<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">button</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre> <p>Ajoutez une cellule au tableau, pour accueillir le bouton de suppression&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">table</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;table table-striped table-bordered&quot;</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">thead</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">tr</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">th</span>&gt;</span>Name<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">th</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">th</span>&gt;</span>URL<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">th</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">th</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">th</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">tr</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">thead</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">tbody</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">tr</span> ng-repeat<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;framework in frameworks&quot;</span> ng-click<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;edit(framework)&quot;</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">td</span>&gt;</span>{{framework.name}}<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">td</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">td</span>&gt;</span>{{framework.url}}<span style="color: #009900;">&lt;<span style
="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">td</span>&gt;</span> 			<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">td</span>&gt;&lt;<span style="color: #000000; font-weight: bold;">button</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;btn btn-danger&quot;</span> ng-click<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;delete(framework, $index, $event)&quot;</span>&gt;</span>Delete<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">button</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">td</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">tr</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">tbody</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">table</span>&gt;</span></pre> <p>Pour cette dernière étape nous aurons besoin du code JavaScript de Bootstrap pour manipuler la modal. Bootstrap dépend de jQuery mais Bower va gérer cette dépendance pour nous&nbsp;:</p> <pre class="bash code bash" style="font-family:inherit">bower <span style="color: #c20cb9; font-weight: bold;">install</span> bootstrap</pre> <p>N’oubliez pas que Bower télécharge les dépendances mais ne les importe pas dans le site Web, ajoutez donc les balises scripts dans app/index.html. Il ne reste plus qu’à écrire les différentes méthodes appelées par les boutons que nous venons de déclarer. Pour ceci, complétez le contrôleur MainCtrl, dans le fichier app/scripts/controllers/main.js, avec le code suivant&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit"><span style="color: #003366; font-weight: bold;">var</span> modal <span style="color: #339933;">=</span> $<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'.modal'</span><span style="color: #009900;">&#41;</span>; &nbsp; $scope.<span style="color: #660066;">edit</span> <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>framework<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 	$scope.<span style="color: #660066;">framework</span> <span style="color: #339933;">=</span> framework; 		modal.<span style="color: #660066;">modal</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'show'</span><span style="color: #009900;">&#41;</span>; 	<span style="color: #009900;">&#125;</span> 	$scope.<span style="color: #660066;">save</span> <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 		<span style="color: #000066; font-weight: bold;">if</span><span style="color: #009900;">&#40;</span>$scope.<span style="color: #660066;">framework</span>.$save<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 			$scope.<span style="color: #660066;">framework</span>.$save<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>; 		<span style="color: #009900;">&#125;</span> <span style="color: #000066; font-weight: bold;">else</span> <span style="color: #009900;">&#123;</span> 			$scope.<span style="color: #660066;">frameworks</span>.<span style="color: #660066;">push</span><span style="color: #009900;">&#40;</span>Frameworks.<span style="color: #660066;">save</span><span style="color: #009900;">&#40;</span>$scope.<span style="color: #660066;">framework</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>; 		<span style="color: #009900;">&#125;</span> 		modal.<span style="color: #660066;">modal</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'hide'</span><span style="color: #009900;">&#41;</span>; 	<span style="color: #009900;">&#125;</span> &nbsp; $scope.<span style="color: #000066; font-weight: bold;">delete</span> <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>framework<span style="color: #339933;">,</span> $index<span style="color: #339933;">,</span> $event<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 	$event.<span style="color: #660066;">stopPropagation</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>; 	$scope.<span style="color: #660066;">frameworks</span>.<span style="color: #660066;">splice</span><span style="color: #009900;">&#40;</span>$index<span style="color: #339933;">,</span> <span style="color: #CC0000;">1</span><span style="color: #009900;">&#41;</span>; 	framework.$delete<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>; <span style="color: #009900;">&#125;</span></pre> <p>L’utilisation des méthodes framework.$save() et framework.$delete() est rendue possible par le module ngResource&nbsp;: celui-ci ajoute des méthodes supplémentaires aux objets qu’il renvoie. Ainsi, si l’on est en train d’éditer un objet qui nous a été fourni par le service Frameworks qui utilise $resource, les méthodes $save() et $delete() sont disponibles. Cependant, si l’on est en train de créer un contact, et non d’en modifier un, l’objet que nous manipulons est {}, l’objet JavaScript vide, qui ne contient pas ces méthodes. Il convient donc de vérifier que la méthode $save existe bien avant de l’utiliser.</p> <h4>Conclusion</h4> <p>Dès l’initialisation d’un nouveau projet AngularJS, les composants importants ressortent et structurent le code&nbsp;: injection de dépendances, services REST, binding.</p> <p>En très peu de lignes de code, nos données sont associées à un tableau et à un formulaire ce qui permet de réaliser ce genre d’interface à une vitesse record.</p> <p>Bien sûr, cet exemple est optimisé pour mettre en valeur les avantages d’AngularJS et nous verrons dans les articles suivants, des applications plus complètes, qui demandent un peu plus de code, telles que la création de nouvelles directives.</p>