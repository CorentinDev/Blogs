---
ID: 208
post_title: 'BIRT : Migration de rapports 2.5 vers des rapports 2.3.2'
author: mcalinghee
post_date: 2009-10-15 08:20:00
post_excerpt: "<p>Comme vous le savez sûrement, il est impossible d'ouvrir un rapport développé en 2.5 avec un BIRT Designer 2.3.2. Si pour une quelconque raison, vous rencontrez cette problématique, vous serez donc amené à migrer vos rapports développés avec la version 2.5 vers une version 2.3.2.</p>"
layout: post
permalink: http://blog.zenika-offres.com/?p=208
published: true
---
<p>Comme vous le savez sûrement, il est impossible d'ouvrir un rapport développé en 2.5 avec un BIRT Designer 2.3.2. Si pour une quelconque raison, vous rencontrez cette problématique, vous serez donc amené à migrer vos rapports développés avec la version 2.5 vers une version 2.3.2.</p>
<!--more-->
<p>Les rapports BIRT (.rptDesign) sont tout simplement des fichiers XML. Ce fichier contient toutes les informations nécessaires concernant le design de votre rapport.<br />
Il suffirait donc de modifier le fichier XML du rapport 2.5 dans le  format approprié 2.3.2 pour migrer les rapports mais encore faut-il connaître les différences entre les structures XML des versions 2.3.2 et 2.5. Bien heureusement pour nous les différences entre ces deux versions de rapports ne sont pas énormes.</p> <p>Voici donc une brève liste des incompatibilités que l'on pourrait rencontrer lors de cette migration&nbsp;:</p> <ul> <li><ins><strong>Version :</strong></ins></li> </ul> <p>en 2.5&nbsp;:</p> <pre class="xml code xml" style="font-family:inherit"><ol><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;report</span> <span style="color: #000066;">xmlns</span>=<span style="color: #ff0000;">&quot;http://www.eclipse.org/birt/2005/design&quot;</span> <span style="color: #000066;">version</span>=<span style="color: #ff0000;">&quot;3.2.20&quot;</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">&quot;1&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span></div></li></ol></pre> <p>en 2.3.2&nbsp;:</p> <pre class="xml code xml" style="font-family:inherit"><ol><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;report</span> <span style="color: #000066;">xmlns</span>=<span style="color: #ff0000;">&quot;http://www.eclipse.org/birt/2005/design&quot;</span> <span style="color: #000066;">version</span>=<span style="color: #ff0000;">&quot;3.2.17&quot;</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">&quot;1&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span></div></li></ol></pre> <ul> <li><ins><strong>Valeur par défaut des paramètres :</strong></ins></li> </ul> <p>en 2.5&nbsp;:</p> <pre class="xml code xml" style="font-family:inherit"><ol><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;</span> simple-property-list <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;defaultValue&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;</span> value <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;constant&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>MaValeur<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;</span> /value<span style="color: #000000; font-weight: bold;">&gt;</span></span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;</span> /simple-property-list<span style="color: #000000; font-weight: bold;">&gt;</span></span></div></li></ol></pre> <p>en 2.3.2&nbsp;:</p> <pre class="xml code xml" style="font-family:inherit"><ol><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;</span> property <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;defaultValue&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>MaValeur<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;</span> /property<span style="color: #000000; font-weight: bold;">&gt;</span></span></div></li></ol></pre> <ul> <li><ins><strong>Graphes :</strong></ins> une migration de ces éléments en 2.3.2 semble être un peu complexe&nbsp;: nous n'avons pas du tout la même structure de données entre les deux versions. Le moyen le plus simple que j'ai pu trouvé pour migrer un graphique en 2.3.2 a été de les refaire en 2.3.2...</li> </ul> <p>Il est à noter que tous ces changements peuvent être appliqués aux *.rptDesign et aux *.rptLibrary mais aussi aux *.rptConfig car dans le cas contraire on pourrait s'attendre à de mauvaises surprises sur les DataSets utilisant des paramètres.</p>