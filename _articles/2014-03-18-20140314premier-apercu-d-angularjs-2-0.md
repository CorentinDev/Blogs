---
ID: 462
post_title: 'Premier aperçu d&#039;AngularJS 2.0'
author: mlux
post_date: 2014-03-18 14:45:00
post_excerpt: |
  <p>Au détour de plusieurs conférences, notamment la très réussie <a href="http://ng-conf.org/">ngConf 2014</a>, l’équipe de développement d’AngularJS a évoqué le sujet d’AngularJS 2.0. Pas plus tard que cette nuit alors que j'allais publier cet article, <a href="http://blog.angularjs.org/2014/03/angular-20.html">un article de blog est apparu sur le blog officiel introduisant Angular 2</a>.</p>
layout: post
permalink: http://blog.zenika-offres.com/?p=462
published: true
slide_template:
  - ""
---
<p>Au détour de plusieurs conférences, notamment la très réussie <a href="http://ng-conf.org/">ngConf 2014</a>, l’équipe de développement d’AngularJS a évoqué le sujet d’AngularJS 2.0. Pas plus tard que cette nuit alors que j'allais publier cet article, <a href="http://blog.angularjs.org/2014/03/angular-20.html">un article de blog est apparu sur le blog officiel introduisant Angular 2</a>.</p>
<!--more-->
<p>Outre ce nouvel article, beaucoup d'éléments de la conception d'Angular 2 sont publics. Tous les drafts de design des différents composants ainsi que les comptes rendus de réunions hebdomadaires de l’équipe de développement. Il est donc possible, en creusant un peu, d’avoir un bon aperçu de ce qui se prépare.</p> <h4>Les bases</h4> <p>AngularJS 2.0 sera une refonte totale d’AngularJS. Chaque fonctionnalité du framework est prise à part, analysée, comparée à l’état de l’art des frameworks existants puis redesignée et enfin recodée. À ma connaissance, aucun code ne sera repris de la branche 1.x.</p> <p>La nouvelle branche 1.3, fraîchement annoncée n’est pas une ébauche de la version 2.0. Elle porte sur des évolutions apportées sur la branche 1.x.</p> <p>La branche 2.0 est actuellement en cours de conception et de développement actif. Certains modules sont déjà testables, mais il n’y a pas de version "alpha" d’Angular 2.0, certains composants centraux du frameworks n’ont même pas été commencés. Il n’y a pas de repository GitHub pour la branche 2.0 à proprement parler, mais plusieurs repositories présents sur le compte GitHub d’Angular sont des futurs modules de la version 2.0. C’est par exemple le cas de <a href="https://github.com/angular/di.js">di.js</a>, <a href="https://github.com/angular/watchtower.js">watchtower.js</a> ou encore <a href="https://github.com/angular/templating">templating</a>.</p> <p>Les ressources intéressantes qui sont accessibles sur Google Docs sont les suivantes&nbsp;:</p> <ul> <li><a href="https://docs.google.com/document/d/1L4aCvL0etdV386XYITYSXkuAHA5aO2jN4zFPZhb_hBI/edit#">Angular 2.0 Weekly Meeting Notes</a></li> <li><a href="https://docs.google.com/spreadsheet/ccc?key=0AhgtL8yFJbacdEFmaUxJaEI0VVlPZDV5VE1Cd0wyTnc&amp;usp=drive_web#gid=0">Angular 2.0 Progress Tracker</a></li> </ul> <p>Bien sûr, cet article a pour vocation de vous éviter d’avoir à lire tout ça&nbsp;!</p> <h4>Fausses pistes&nbsp;: Polymer &amp; Angular.dart</h4> <p>Quelques fausses rumeurs sont venues obscurcir le discours au sujet d’AngularJS 2.0. Je vais essayer ici de rétablir la vérité.</p> <p>Tout d’abord, à propos de Polymer. Les deux projets sont des projets de framework Web JavaScript initiés par Google. Pour autant ce sont deux projets distincts qui n’ont pas vocations à fusionner d’aucune façon. Certains concepts sont et resteront incompatibles. Notamment, le design "tout composant" de Polymer alors qu’Angular, même s’il prévoit un rapprochement vers les Web Components, ne prévoit pas cette même approche.</p> <p>Maintenant, ce qui a été vraiment dit, c’est qu’il sera possible d’utiliser des Web Components, que certains aspects des directives seront fusionnées avec les concepts de Web Components et que l’équipe d’Angular ne s’interdit pas de récupérer certains polyfills créé par Polymer pour utiliser ces Web Components.</p> <p>Concernant Angular.dart maintenant. Angular.dart est un projet parallèle à Angular et consiste à une refonte complète des concepts sur la base du langage Dart. Les projets Angular.js et Angular.dart n’ont pas de dépendances directes l’un avec l’autre et aucun des deux ne doit, à terme, remplacer l’autre.</p> <p>Tout comme pour Polymer, il y a un mais. Angular.dart est un projet qui est pris très au sérieux. Le code JS n’est pas seulement adapté à Dart mais c’est tout le framework qui est repensé. De plus, la tâche n’est réalisée par personne d’autre que Miško Hevery lui-même, le créateur d’Angular. Inévitablement en écrivant Angular.dart, quelques années après le démarrage d’AngularJS, certains modules ont été réécrit de façon bien plus évoluées. Ainsi, certaines fonctionnalités d’Angular 2.0 s’avèrent être des adaptations en JavaScript de nouveautés apparus pendant les développements d’Angular.dart.</p> <h4>ECMAScript 6 Harmony, Traceur Compiler</h4> <p>La première chose qu’il faut comprendre pour aborder Angular 2.0 c’est qu’il a été décidé de le développer avec <a href="http://wiki.ecmascript.org/doku.php?id=harmony:proposals">ECMAScript 6, nom de code Harmony</a>, la prochaine version du standard du JavaScript.</p> <p>C’est forcément assez déroutant lorsque l’on veut aborder les sources la première fois, mais on finit par y prendre goût, car il y a tout de même de nombreuses choses intéressantes dans ES6.</p> <p>A ceux qui sont à deux doigts d’abandonner la lecture de cet article pensant que "ça ne marchera pas dans mon navigateur avant 10 ans", Angular 2 fonctionnera bien sûr dans tous les navigateurs "modernes", ce qui devrait correspondre, d’ici la sortie de cette nouvelle version à Chrome, Firefox et IE11+ environ. ainsi qu'un focus important sur la compatibilité avec les navigateurs mobiles.</p> <p>Pour faire fonctionner le code ES6 dans les navigateurs, AngularJS 2.0 va s’appuyer sur le compilateur <a href="https://github.com/google/traceur-compiler">Traceur</a> développé également par Google. Ce compilateur où plus précisément "transpilateur" permet de transformer du code écrit suivant l’état actuel des spécifications d’ES6 et le transforme en code compatible avec ECMAScript 5 ce qui est la spécification actuellement supportée par les navigateurs. Il est tout à fait envisageable aujourd'hui de coder avec ES6 et d'avoir des outils de recompilation automatique. Il sera également possible de coder en JavaScript "standard" même si la syntax sera plus verbeuse qu'avec ES6.</p> <p>Une particularité dans le code ES6 d’Angular 2.0 est d’avoir fait le pari d’utiliser les annotations dont la proposition pour faire partie d’ES6 est encore en suspens. Ces annotations sont centrales pour la future implémentation de l’injection de dépendance et il est assez probable que cette proposition soit acceptée. Il a tout de même été nécessaire, de la part de l’équipe de développement d’AngularJS, d’ajouter la gestion des annotations dans Traceur.</p> <p>Un dernier mot sur Traceur. C’est un projet très intéressant à part entière. Avoir la possibilité de tester voir développer dès aujourd’hui selon les futurs standards est très intéressant. Cela apporte notamment la possibilité de découvrir ES6 par le code plutôt qu’en lisant des pages et des pages de propositions théoriques sur le Wiki Harmony. Pour autant, je me vois dans l’obligation de vous prévenir que s’il est plutôt stable, il manque gravement de documentations.</p> <h4>Conclusion</h4> <p>Voici les bases de lecture de posées pour aborder AngularJS 2.0. Il y a déjà bien plus à en dire, de nombreux projets sont en cours&nbsp;:</p> <ul> <li>Injection de dépendances&nbsp;: <a href="https://github.com/angular/di.js">di.js</a></li> <li>Nouvelle version de la détection des changements&nbsp;: <a href="https://github.com/angular/watchtower.js">watchtower.js</a></li> <li>Le futur des directives&nbsp;: <a href="https://github.com/angular/templating">templating</a></li> <li>$http, $resources, cache, stockage client&nbsp;: <a href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1DMacL7iwjSMPP0ytZfugpU4v0PWUK0BT6lhyaVEmlBQ/edit%3Fusp%3Ddrive_web&amp;usd=2&amp;usg=ALhdy2_N6R9hGg5TzlxQR2c7xF2ZNCZuKw">Persistance</a></li> <li>Et encore d’autres&nbsp;: <a href="https://github.com/angular/zone.js">zone.js</a>, <a href="https://github.com/angular/diary.js">diary.js</a>, "<a href="https://github.com/angular/projects">projects</a>", <a href="https://www.google.com/url?q=https://docs.google.com/document/d/1pHMbpInJtiMF2zp4AZaW2jYSkVvNQZLLYrqXhJRi2T8/edit&amp;usd=2&amp;usg=ALhdy28_CmeNakIlGkPXEFmdefGcqDemWQ">benchmarks</a>…</li> </ul> <p>Je détaillerai plusieurs de ces nouveaux modules dans de prochains articles.</p>