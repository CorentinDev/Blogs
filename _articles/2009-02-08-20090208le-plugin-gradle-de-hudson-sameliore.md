---
ID: 160
post_title: Le plugin Gradle de Hudson s’améliore
author: Grégory Boissinot
post_date: 2009-02-08 13:11:00
post_excerpt: |
  <p>Nous venons de releaser la version 1.2 du <a href="http://hudson.gotdns.com/wiki/display/HUDSON/Gradle+Plugin">plugin Gradle</a> pour le moteur d'intégration continue <a href="https://hudson.dev.java.net/">Hudson</a>.</p> <p>Parmi les nouveautés, on peut noter:</p> <ul> <li>Distinction plus claire entre la notion de switches et de tasks <a href="http://www.gradle.org/">Gradle</a></li> <li>La possibilité de spécifier un script de build situé dans un niveau de l’arborescence du workspace Hudson</li> <li>Une aide utilisateur améliorée</li> </ul>
layout: post
permalink: http://blog.zenika-offres.com/?p=160
published: true
---
<p>Nous venons de releaser la version 1.2 du <a href="http://hudson.gotdns.com/wiki/display/HUDSON/Gradle+Plugin">plugin Gradle</a> pour le moteur d'intégration continue <a href="https://hudson.dev.java.net/">Hudson</a>.</p> <p>Parmi les nouveautés, on peut noter:</p> <ul> <li>Distinction plus claire entre la notion de switches et de tasks <a href="http://www.gradle.org/">Gradle</a></li> <li>La possibilité de spécifier un script de build situé dans un niveau de l’arborescence du workspace Hudson</li> <li>Une aide utilisateur améliorée</li> </ul>
<!--more-->
<h3>Fonctionnement du plugin</h3> <p>Le plugin fonctionne comme l’intégration du builder <a href="http://ant.apache.org/">ANT</a>. Il suffit simplement de spécifier les switches et les tasks Gradle, c’est a dire l’équivalent des options et des cibles ANT (targets).</p> <p><img src="/wp-content/uploads/2015/07/gradle_hudson_project_configuration.JPG" alt="hudson_gradle_conf_projet" style="display:block; margin:0 auto;" title="hudson_gradle_conf_projet" /></p> <p>Si vous avez plusieurs installations de Gradle et que vous souhaitez choisir pour un projet la configuration Gradle qui sera utilisé; ou que tout simplement dans le cas où l’outil Gradle n’est pas dans le PATH</p> <p><img src="/wp-content/uploads/2015/07/gradle_hudson_configuration.JPG" alt="hudson_gradle_conf_global" style="display:block; margin:0 auto;" title="hudson_gradle_conf_global" /></p> <h3>Le pourquoi d’un plugin Gradle&nbsp;?</h3> <p>Hudson supporte un certain nombre de type de build comme Ant, <a href="http://maven.apache.org/">Maven</a>. Il supporte également l’exécution de scripts shell ou de scripts batch Windows permettant d'invoquer tout type de commande.</p> <p>En Gradle, le dossier qui contient le script Gradle définit un projet Gradle. Sans surcharge, le nom du projet sera le nom du dossier conteneur (il s’agit d’une particularité que nous ne retrouvons pas dans les autres systèmes de build comme Maven). Dans ces conditions, les chemins relatifs qui seraient invoqués en dehors du dossier projet vont échouer. Ce problème peut être résolu facilement par l’invocation de la commande "cd" avant d’invoquer Gradle. Nous obtenons la configuration suivante</p> <p><a href="/wp-content/uploads/2015/07/gradle_hudson_project_manual_configuration.JPG"><img src="/wp-content/uploads/2015/07/gradle_hudson_project_manual_configuration.JPG" alt="gradle_hudson_project_manual_configuration.JPG" style="display:block; margin:0 auto;" /></a></p> <p>On voit alors que cela n’est pas pratique et peu maintenable.</p> <h3>Les futurs évolutions</h3> <p>Dans les prochaines versions, il est prévu d’ajouter la prise en compte d’un projet multi module. L’objectif est de fournir une intégration similaire à l’actuelle intégration de Maven (navigation par module, segmentation des logs, personnalisation de la chaîne de build par module). L’autre axe d’amélioration est une gestion assistée du système de niveau des traces (logging).</p>