---
ID: 350
post_title: 'QCon London 2014 &#8211; Journal de Bord &#8211; Day 3'
author: sbasle
post_date: 2014-03-10 11:00:00
post_excerpt: '<p><code>7 Mars 2014, 08:42, banlieue de Londres</code> :<br /> <p>En route pour la troisième et dernière journée de la QCon.</p>'
layout: post
permalink: http://blog.zenika-offres.com/?p=350
published: true
---
<p><code>7 Mars 2014, 08:42, banlieue de Londres</code> :<br /> <p>En route pour la troisième et dernière journée de la QCon.</p>
<!--more-->
<h3>Keynote - The world "after" Cloud Computing and Big Data</h3> <p><em>Par prf. Gunter Dueck</em><br /> Le professeur nous parle de changement, de la zone de confort et comment en sortir pour trouver de nouveaux challenges, avec humour.<br /> Comment deux souris, ne trouvant plus de fromage (le monde est devenu bacon), finissent par mourrir plutôt que s'adapter.</p> <p>L'architecture et la technologie du futur n'est pas déterminée en réfléchissant à la technologie "en vogue", mais par les usages d'aujourd'hui, réimaginés en nouveaux usages.</p> <p>Ces usages et nouvelles technologies seront probablement disruptives, nécessiteront une transformation de certaines industries (ou leur disparition), par exemple l'industrie automobile vs la voiture automatique.</p> <p>On parle de robotique, impression 3D, biologie synthétique... En fait l'informatique au travers du Big Data tend vers l'ingénierie, des usages plus proches du métal, on intègre des monde différents.</p> <h3>Talk 1 - Platform Engineering, Lessons Learned in Scaling Twitter</h3> <p><em>par Brian Degenhardt</em><br /> Brian souhaite nous expliquer comment utiliser l'ingénierie pour découper son problème en parties gérables, ce qu'il a pu apprendre en travaillant depuis 1 an sur la plate-forme Twitter.</p> <p>Twitter a commencé avec une architecture monolithique, et ils se sont rapidement rendu compte des limitations : difficulté de mise à l'échelle du modèle de stockage, tout changement nécessite de déployer tout les serveurs, performances concurrentes pauvres...</p> <p>Les ingénieurs ont commencé à découper en services de stockage avec le reste de l'application monolithique, puis sont passés à une architecture hyper-découpée en services à tout les niveaux (stockage, logique, présentation, routage). Le "monorail" (le coeur monolithique originel) est encore en usage pour certaines fonctionnalités à faible trafic.</p> <p>Brian nous explique ce qu'il se passe quand on envoie un tweet, du rédacteur au destinataire d'une @réponse, et qu'en parallèle (fanout) d'autres services consomment le tweet envoyé (par exemple pour la recherche, le <em>firehose</em> qui envoie l'ensemble des tweets en circulation récemment, ...).</p> <p>La question ensuite est "comment construire un service?". Twitter-Server est un projet open-source dédié à cela. C'est basé sur Finagle, un système de RPC pour la JVM encore une fois open-sourcé par Twitter. On voit les services comme des fonctions asynchrones, retournant un <code>Future&lt;T&gt;</code> comme résultat, le cas échéant en tirant parti des possibilités de composition offertes par ce modèle de concurrence.</p> <p>La question du monitoring et l'usage de statistiques plutôt que de mesures individuelles est aussi important pour Brian. Des outils comme Viz et Zipkin sont utilisés en interne à Twitter pour la surveillance des services. Chaque équipe a son propre tableau de bord montrant les éléments liés à leurs responsabilités.</p> <p>Brian a parlé vite, et ça nous laisse pas mal de temps pour poser une multitude de questions. On en apprendra ainsi plus sur le fonctionnement de Finagle, l’agrégation des statistiques, le type de connaissance au niveau matériel qu'il faut avoir, etc...</p> <h3>Talk 2&nbsp;: How Netflix Leverages Multiple Regions to Increase Availability: An Active-Active Case Study</h3> <p><em>par Ruslan Meshenberg</em><br /> Comment mitiger l'échec d'un système qui change rapidement et à grande échelle. On parle d'incidents du plus haut niveau, du type de ceux couverts par les médias.</p> <p>Est-ce qu'une instance va tomber? Probablement, pour différentes raisons. Netflix utilise Chaos Monkey pour tester la résilience de leurs systèmes à un tel événement.<br /> Est-ce qu'une zone peut tomber? Rarement mais c'est arrivé. Chaos Gorilla est un autre outil de Netflix utilisé pour tester ce genre de cas (et Chaos Kong pour l'échelle d'une région, c'est à dire plusieurs datacenters).</p> <p>Ruslan nous expose des principes de base pour mitiger les incidents (qui <em>vont</em> arriver) : isolation et redondance.</p> <p>Après un gros incident lié au load-balancing d'une région en 2012, Netflix a commencé par construire une solution de résilience pour l'ELB, puis une solution plus générique, une architecture Active-Active.</p> <p>Ruslan continue à nous présenter les outils opensourcés par Netflix (ou en train de l'être) pour le déploiement, les tests canaries, le déploiement automatique, la surveillance, le failover (en se basant sur le DNS).</p> <h3>Repas et tirages au sort</h3> <p>J'ai la mauvaise idée de tenter le coup de prendre mon repas à un étage différent de celui qui m'est affecté, pas de chance c'est le plus pris d'assaut et il reste peu de choses. Tant pis, au moins j'ai le temps d'aller croiser les doigts pour la session de tirages au sort pour les différents lots des sponsors.<br /> Au final, c'est un autre Editor InfoQ, Olivier, qui va remporter 3 livres O'Reilly le veinard :)<br /> Tout ça prend un peu de temps, et Tim Fox a tout juste le temps de s'installer pour commencer la présentation suivante.</p> <h3>Talk 3 - High Performance Reactive Applications with Vert.x</h3> <p><em>par Tim Fox</em><br /> Tim, le créateur de Vert.x, va nous faire une présentation de sa plate-forme légère pour applications réactives.<br /> Superficiellement similaire à Node.js, mais pas un clone. Particulièrement polyglotte, et mettant l'accent sur la performance (utilisation de Netty par exemple) mais aussi la simplification.</p> <p>Tim nous présente les APIs asynchrones au cœur de Vert.x et pourquoi ce choix des événements asynchrones : les serveurs modernes ont souvent besoin de beaucoup de concurrence, mais les threads sont encore une ressource rare et chère. Ce qui amène à une approche non-bloquante.</p> <p>Chaque application Vert.x est composée d'unités de code appelées <em>Verticles</em>, mono-threadées et écrites dans n'importe lequel des langages supportés. Cela ressemble un peu au modèle d'acteurs. Tim indique que c'est en effet très proche...</p> <p>Le bus d'événements est la colonne vertébrale de Vert.x, sur laquelle les Verticles envoient des messages et communiquent entre eux, en String, Buffers ou JSON. On a même un bus d'événement en cluster, au-dessus de différentes JVM, ce qui permet d'écrire non plus des applications monolithiques mais des microservices dans des langages variés.<br /> Tim fait la démo d'une application "publish/subscribe" avec un client Vert.x JavaScript.</p> <p>On pourra découper son application en modules (des fichiers zip avec méta-données), qui apportent une isolation du <em>ClassLoader</em> notamment. Nous sommes encouragés à partager nos modules afin de créer un vrai écosystème Vert.x. A l'heure actuelle il y en a déjà pas mal pour la plupart contribués par la communauté (dont un pour exécuter du code NodeJS, NoDyn). Tim nous montre qu'on peut packager un module dans un <em>fatjar</em> exécutable embarquant Vert.x, avec un relativement faible overhead (environ 5Mo).</p> <p>Vert.x traite la haute disponibilité en faisant de la reprise automatique, de la détection de partition automatique (avec une approche par qorum), par simple ajout du paramètre <code>-ha</code> à la commande d'exécution.</p> <h3>Talk 4 - Works in Progress</h3> <p><em>par Jaimee Newberry</em><br /> Une approche un peu différente pour parler du future, en mettant un peu plus l'accent sur le côté humain des choses par rapport aux autres tracks.<br /> Jaimee aime interagir avec son public et poser des questions à l'assistance, comparer son vécu au ressenti du public.</p> <p>Elle nous présente son parcours éclectique, étudiante en art devenue développeuse de sites web, en passant par un parcours académique (création d'un cursus sur les IHM) pour finir dans le monde du mobile...</p> <p>Jaimee se rend compte qu'elle dépense une énorme énergie dans les produits et les équipes avec lesquelles elle travaille. Et qu'elle pourrait aussi se voir en tant que produit sur lequel dépenser le même genre d'énergie :
parallèle entre la création de bons produits (ce qu'elle sait faire) et la création d'un environnement de vie sain. Elle pose alors 4 étapes pour y arriver.</p> <p><strong>Découvrir</strong> :<br /> Non pas "qu'est ce qui viens après?" mais plutôt "qu'est-ce qui est important?", trouver ses valeurs et les étapes pour atteindre un environnement qui les supporte.</p> <p><strong>Concevoir</strong> :<br /> Un plan, quelque-chose qui se rapporte à ces valeurs et les exprime de la manière la plus diversifiée possible pour leur faire faire surface.</p> <p><strong>Développer</strong> :<br /> C'est là qu'on fait le travail, qu'on met les plans en action. Pas forcément des étapes gigantesques, mais même à petits pas, car dès qu'on commence des choses géniales se produisent.</p> <p><strong>Itérer</strong> :<br /> Revenir à sa liste de départ, retravailler sur des points qu'on a déjà essayé d'améliorer, réévaluer, réadapter à son nouveau rythme et contexte. Et célébrer les réalisations, même les plus petites.</p> <p>Une session inspirante sur la motivation et le développement personnel et comment cela influence nos réalisations et notre travail. "<em>We are works in progress</em>".</p> <h3>Talk 5 - How Elasticsearch Powers the Guardian's Newsroom</h3> <p><em>par Shay Banon et Graham Tackley</em><br /> Shay Banon est le créateur d'ElasticSearch (la technologie) et CTO d'ElasticSearch (la société).<br /> Graham travaille au Guardian, un des principaux journaux britanniques. Ils ont un site depuis 1995, qui est aujourd'hui le site d'information en ligne en anglais le plus lu dans le monde.</p> <p>Shay commence par nous présenter ElasticSearch et la philosophie du produit. Ce talk sera cependant principalement un retour d'expérience du Guardian, accompagné de démos du système <em>Orphan</em> mis en place au journal.</p> <p>Graham commence par présenter un dashboard montrant la provenance du trafic, le découpage des graphes de statistiques par section, etc... Ils sont capables d'analyser la provenance du trafic sur un article, minute par minute, en ressortant par exemple les tweets mentionnant l'article.<br /> D'autres graphes permettent des analyses plus techniques, temps de chargement, temps de réponse... Mais d'ou viennent les données?</p> <p>En fait toutes ces pages sont générées dynamiquement par des recherches ElasticSearch, avec un délai d'environ 5 secondes pour la prise en compte des interactions des visiteurs.<br /> Ce projet a été commencé lors d'un <em>Hack Day</em>, une période de 24h pendant laquelle les ingénieurs du Guardian peuvent travailler sur le projet de leur choix.</p> <p>Graham nous fait un historique des étapes par lesquelles le service est passé, d'un prototype très simple tournant sur sa machine lors du hackday à un service basé sur ElasticSearch et distribué dans le cloud.<br /> Shay prend le relais pour expliquer le design d'ElasticSearch et comment il se rapporte bien à des cas d'utilisation ou la donnée est liée au temps.</p> <p>Pour terminer, Graham nous montre comment ils construisent leurs graphes : agrégation des données de pages vues (pour chaque vue un doc JSON) dans ElasticSearch, recherche dans ElasticSearch (des requêtes très ciblées, ils n'utilisent pas les fonctionnalités <em>full text</em> du produit), puis aggrégation (via facettes avant la version 1.0) et filtrage.</p> <p>Tout ça réalisé par une équipe de 3 !</p> <p>Un retour d'expérience mêlé de détails d'implémentations de la techno sous-jacente, un format vraiment réussi.</p> <h3>Fin de QCon</h3> <p>Et voilà, la QCon Londres 2014 est officiellement terminée! Il est temps de rassembler ses goodies, une dernière occasion d'interagir avec les speakers et il faudra penser à rentrer.<br /> 3 jours riches en apprentissage, idées et rencontres, la grasse matinée ne sera pas de trop samedi matin pour récupérer l'énergie (bien) dépensée :)</p> 