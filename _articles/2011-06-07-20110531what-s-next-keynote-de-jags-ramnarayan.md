---
ID: 304
post_title: 'What&#039;s next : SQLFire par Jags Ramnarayan'
author: mboillod
post_date: 2011-06-07 17:21:00
post_excerpt: '<p>Lors de son talk <a href="http://www.whatsnextparis.com/agenda.html#Ramnarayan">SQLFabric - Scalable SQL instead of NoSQL</a> Jags Ramnarayan, architecte en chef des produits <a href="http://www.vmware.com/products/vfabric-gemfire/overview.html">Gemfire</a> chez VMware, a débuté par un retentissant "The rules have changed !".</p>'
layout: post
permalink: http://blog.zenika-offres.com/?p=304
published: true
---
<p>Lors de son talk <a href="http://www.whatsnextparis.com/agenda.html#Ramnarayan">SQLFabric - Scalable SQL instead of NoSQL</a> Jags Ramnarayan, architecte en chef des produits <a href="http://www.vmware.com/products/vfabric-gemfire/overview.html">Gemfire</a> chez VMware, a débuté par un retentissant "The rules have changed !".</p>
<!--more-->
<h2>Nouvelles contraintes applicatives</h2> <p>Jags parle ici de la manipulation des données et des nouveaux besoins en terme de mémoire et de scalabilité. SQLFire est encore en version alpha et le sujet n'était pas facile car SQLFire est un produit assez nouveau, on apprend d'ailleurs que le nom <a href="http://communities.vmware.com/community/vmtn/appplatform/vfabric_sqlfire">SQLFire</a> remplace l'ancien nom SQLFabric. Ses fonctionnalités sont très nombreuses et ses domaines d'application sont encore un mystère pour beaucoup d'entre nous, et, pour avoir parlé à plusieurs personnes après le talk, il s'avère que le sujet n'a pas toujours été très bien compris, et je vais essayer de vous rapporter les informations de cette keynote (et un peu plus j'espère).</p> <p>Vous connaissez sans doute les SGBD et les bases NoSQL (et grille mémoire). SQLFire essaye de réunir le (meilleur) des deux mondes, en prenant en compte les contraintes techniques liées au cloud et à la scalabilité.</p> <h2>A mi-chemin entre SGBD et NoSQL</h2> <p>Les bases relationnelles qu'on ne présente plus, utilisent un modèle familier pour tout le monde, donc facile d'accès et pas uniquement pour les développeurs. Je ne compte plus le nombre de fois où j'ai vu des fonctionnels, des chefs de projet faire une requête pour récupérer les données.</p> <p>De l'autre côté, les bases NoSQL et grilles mémoires font beaucoup parler d'elles en ce moment mais demande un effort non négligeable pour les développeurs et architectes. Je vous parle en connaissance de cause, car j'ai moi même mis en place la grille mémoire Gemfire dans le cadre du <a href="https://sites.google.com/a/octo.com/challengeusi2011/">Challenge USI 2011</a>.</p> <p>Au passage, Gemfire et SQLFire font tous les deux partie de la gamme de produit <a href="http://www.vmware.com/products/vfabric/overview.html">vFabric</a> et seront présents sur CloudFoundry.</p> <h2>Fonctionnalités</h2> <p>Pour résumer simplement, voici sous forme de liste les fonctionnalités que SQLFire reprend des deux mondes.</p> <p>- Du monde SGBD&nbsp;:</p> <ul> <li>La notion de table</li> <li>Les requêtes SQL</li> <li>Le langage DDL</li> <li>Support des clauses update</li> <li>Les drivers JDBC</li> <li>Les outils associés</li> </ul> <p>- Du monde NoSQL&nbsp;:</p> <ul> <li>Chargement des données en mémoire</li> <li>Réplication des données entre les noeuds (ou cluster)</li> <li>Partitionnement des données entres les noeuds</li> <li>Scalabilité et découverte automatique des noeuds</li> <li>Tolérance aux pannes (grâce à la redondance des données notamment)</li> <li>Technologie de Map/Reduce</li> <li>Temps d'accès en lecture/écriture</li> </ul> <p>Alors forcément, tout ça paraît <strong>très alléchant</strong> et ça l'est en effet. Il suffit de lire la documentation pour voir le potentiel de ces nouvelles techno.</p> <h2>Contraintes du Cloud</h2> <p>Mais il ne faut pas oublier que le cloud et la scalabilité amènent de nouvelles contraintes, notamment dans le domaine de la manipulation des données&nbsp;!</p> <p>Par exemple, le <strong>partitionnement des données</strong> entre plusieurs noeuds n'est <strong>pas fait pour agréger</strong> (comprenez faire des jointures) des données réparties à travers le réseau comme on le ferait avec un SGBD. Pour illustrer mes propos, imaginez simplement la quantité de données à faire transiter par le réseau lors de requêtes sur plusieurs centaines de millions d'enregistrements&nbsp;!</p> <p>Pour répondre à ce problème de partitionnement, Jags Ramnarayan à présenté le système de <strong>collocation de données</strong> de SQLFire. Ce système permet de regrouper automatiquement sur le même noeud, les données "liées" issues de tables différentes. Par exemple, dans un système de réservation d'une compagnie aérienne, on peut indiquer à SQLFire (via le DDL) de regrouper les données des tables <em>vol</em> et <em>réservation</em> en utilisant une clé commune, ici le numéro du vol. Cette solution de collocation permet ainsi d'effectuer des requêtes SQL avec des jointures entre ces deux tables.</p> <p>Malheureusement, nous n'avons pas eu de solution pour traiter les cas plus complexes. Lors de la conception, il faut donc faire attention à la structure des données et anticiper les données que l'on souhaite agréger pour organiser les données au mieux. Et pour les autres cas, il faudra vraisemblablement passer par des agrégations manuelles plus coûteuses, en utilisant par exemple l'équivalent des curseurs bases de données pour limiter le chargement des objets en mémoire...</p> <h2>Disponibilité</h2> <p>Jags nous indique que le produit sortira en version alpha dans environ 15 jours, mais si mes informations sont bonnes, SQLFire devrait sortir <strong>aujourd'hui</strong>. Malgré sa version alpha, Alexandre Vasseur, responsable produit de la gamme vFabric m'a confié que certaines sociétés l'avaient déjà "early" adopté&nbsp;!</p> <p>Alors pour être complet, il faut savoir que Gemfire et SQLFire sont les deux seuls produits vFabric "commerciaux". Ils proposent une licence d'évaluation gratuite jusqu'à 3 noeuds, ce qui permet de tester ces produits facilement et également de récupérer directement les jars depuis les repo maven.</p> <h2>En résumé</h2> <p>SQLFire répond donc à un besoin réel et la possibilité d'utiliser les outils existants grâce au driver JDBC est un vrai plus pour son adoption. C'est peut être ce qui fera la différence par rapport aux bases NoSQL, même s'il s'agit bien de deux outils, qui répondent à des problématiques légèrement différentes, malgré leurs caractéristiques similaires.</p> <p>En tout cas, chez Zenika nous allons suivre la sortie de ce produit et si vous avez des besoins en terme d'<strong>OLTP</strong>, vous pouvez regarder de plus près Gemfire et SQLFire... N'hésitez pas à nous posez vos questions ou nous faire des <strong>retours sur vos essais</strong> dans ce billet.</p> <p><strong>Edit :</strong>  [8 juin] La version alpha est disponible à cette adresse&nbsp;:</p> <ul> <li><a href="http://communities.vmware.com/community/vmtn/appplatform/vfabric_sqlfire">http://communities.vmware.com/community/vmtn/appplatform/vfabric_sqlfire</a></li> </ul> <p>Et quelques liens complémentaires&nbsp;:</p> <ul> <li><a href="http://blogs.vmware.com/sqlfire/">Blog VMware</a></li> <li><a href="http://communities.vmware.com/community/vmtn/appplatform/vfabric_sqlfire?view=documents">Documents</a></li> </ul>