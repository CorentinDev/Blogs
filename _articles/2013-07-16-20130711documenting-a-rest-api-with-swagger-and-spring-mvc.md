---
ID: 136
post_title: >
  Documenting a REST API with Swagger and
  Spring MVC
author: Arnaud Cogolu√®gnes
post_date: 2013-07-16 09:30:00
post_excerpt: "<p>REST is now the most common way to expose web services. But how to say to clients how to use a REST API? There's no real standard or at least de facto standard to expose a REST contract. Many API resorts to a human-readable documentation, which is manually edited and thus hard to keep perfectly synchronized with the API. Another way is to create the documentation from the code itself, and this is what this article covers, by using Swagger on top of Spring MVC.</p>"
layout: post
permalink: http://blog.zenika-offres.com/?p=136
published: true
slide_template:
  - default
---
<p>REST is now the most common way to expose web services. But how to say to clients how to use a REST API? There's no real standard or at least de facto standard to expose a REST contract. Many API resorts to a human-readable documentation, which is manually edited and thus hard to keep perfectly synchronized with the API. Another way is to create the documentation from the code itself, and this is what this article covers, by using Swagger on top of Spring MVC.</p>
<!--more-->
<h5>Swagger</h5> <p><a href="https://developers.helloreverb.com/swagger/">Swagger</a> is a specification for documenting REST API. It specifies the format (URL, method, and representation) to describe REST web services. It provides also tools to generate/compute the documentation from application code.</p> <p>What does this mean? As an application developer, you write web services using your favorite framework, Swagger scans your code and exposes the documentation on some URL. Any client can consume this URL (which comes as XML or JSON documents) and learn how to use your REST web services: which HTTP methods to call on which URL, which input documents to send, which status code to expect, etc.</p> <p>We're going to see how to use Swagger on top of Spring MVC, but remember Swagger is a specification and supports a wide range of frameworks.</p> <h5>The controller</h5> <p>The controller contains the basic CRUD operations, it uses the Spring MVC API:</p> <pre class="java code java" style="font-family:inherit">@Controller @RequestMapping<span style="color: #000000;">&#40;</span><span style="color: #888888;">&quot;/contacts&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #7F0055; font-weight: bold;">public</span> <span style="color: #7F0055; font-weight: bold;">class</span> ContactController <span style="color: #000000;">&#123;</span> &nbsp;   @Autowired ContactService contactService; &nbsp;   @ResponseBody   @RequestMapping<span style="color: #000000;">&#40;</span>method=RequestMethod.<span style="color: #000000;">GET</span><span style="color: #000000;">&#41;</span>   <span style="color: #7F0055; font-weight: bold;">public</span> Collection<span style="color: #000000;">&lt;</span>Contact<span style="color: #000000;">&gt;</span> select<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>     <span style="color: #7F0055; font-weight: bold;">return</span> contactService.<span style="color: #000000;">select</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;   <span style="color: #000000;">&#125;</span> &nbsp;   @ResponseBody   @RequestMapping<span style="color: #000000;">&#40;</span>value=<span style="color: #888888;">&quot;/{id}&quot;</span>,method=RequestMethod.<span style="color: #000000;">GET</span><span style="color: #000000;">&#41;</span>   <span style="color: #7F0055; font-weight: bold;">public</span> Contact get<span style="color: #000000;">&#40;</span>@PathVariable <span style="color: #000000;">Long</span> id<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>     <span style="color: #7F0055; font-weight: bold;">return</span> contactService.<span style="color: #000000;">get</span><span style="color: #000000;">&#40;</span>id<span style="color: #000000;">&#41;</span>;   <span style="color: #000000;">&#125;</span> &nbsp;   @RequestMapping<span style="color: #000000;">&#40;</span>method=RequestMethod.<span style="color: #000000;">POST</span><span style="color: #000000;">&#41;</span>   @ResponseStatus<span style="color: #000000;">&#40;</span>HttpStatus.<span style="color: #000000;">CREATED</span><span style="color: #000000;">&#41;</span>   <span style="color: #7F0055; font-weight: bold;">public</span> <span style="color: #7F0055; font-weight: bold;">void</span> add<span style="color: #000000;">&#40;</span>@RequestBody Contact contact,HttpServletResponse response<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>     contactService.<span style="color: #000000;">add</span><span style="color: #000000;">&#40;</span>contact<span style="color: #000000;">&#41;</span>;     <span style="color: #000000;">String</span> location = ServletUriComponentsBuilder.<span style="color: #000000;">fromCurrentRequest</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>       .<span style="color: #000000;">pathSegment</span><span style="color: #000000;">&#40;</span><span style="color: #888888;">&quot;{id}&quot;</span><span style="color: #000000;">&#41;</span>.<span style="color: #000000;">buildAndExpand</span><span style="color: #000000;">&#40;</span>contact.<span style="color: #000000;">getId</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>       .<span style="color: #000000;">toUriString</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>; &nbsp;     response.<span style="color: #000000;">setHeader</span><span style="color: #000000;">&#40;</span><span style="color: #888888;">&quot;Location&quot;</span>,location<span style="color: #000000;">&#41;</span>;   <span style="color: #000000;">&#125;</span> &nbsp;   @RequestMapping<span style="color: #000000;">&#40;</span>value=<span style="color: #888888;">&quot;/{id}&quot;</span>,method=RequestMethod.<span style="color: #000000;">PUT</span><span style="color: #000000;">&#41;</span>   @ResponseStatus<span style="color: #000000;">&#40;</span>HttpStatus.<span style="color: #000000;">NO_CONTENT</span><span style="color: #000000;">&#41;</span>   <span style="color: #7F0055; font-weight: bold;">public</span> <span style="color: #7F0055; font-weight: bold;">void</span> update<span style="color: #000000;">&#40;</span>@PathVariable <span style="color: #000000;">Long</span> id,@RequestBody Contact contact<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>     contact.<span style="color: #000000;">setId</span><span style="color: #000000;">&#40;</span>id<span style="color: #000000;">&#41;</span>;     contactService.<span style="color: #000000;">update</span><span style="color: #000000;">&#40;</span>contact<span style="color: #000000;">&#41;</span>;   <span style="color: #000000;">&#125;</span> &nbsp; <span style="color: #000000;">&#125;</span></pre> <p>I made the controller as simple as possible, the point isn't to have a perfect, bullet-proof controller, but rather to illustrate the use of Swagger.</p> <h5>Swagger configuration</h5> <p>There's a <a href="https://github.com/martypitt/swagger-springmvc">nice and active project</a> on github that provides Swagger support for Spring MVC. The XML configuration is straightforward:</p> <pre class="xml code xml" style="font-family:inherit"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;bean</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;com.mangofactory.swagger.configuration.DocumentationConfig&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span> &nbsp; <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;context:property-placeholder</span> <span style="color: #000066;">location</span>=<span style="color: #ff0000;">&quot;classpath:/swagger.properties&quot;</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span></pre> <p>Swagger Spring MVC needs a couple of properties from a property file:</p> <pre> documentation.services.version=1.0 documentation.services.basePath=http://localhost:8080/zencontact </pre> <p>We'll see shortly how Swagger Spring MVC uses this 2 properties.</p> <p>What's happening under the hood? Swagger Spring MVC scans the Spring MVC controllers on start-up and registers a documentation controller that exposes the operations the controllers allows. This documentation follows the Swagger specification: any client that understands this specification can use the API. The good news is the documentation is based on the code itself: any change to the code is reflected on the documentation, no need to maintain an external document.</p> <p>Swagger Spring MVC uses Spring MVC annotations to compute the documentation, but it also understands Swagger annotations. Let's add the <code>@Api</code> annotation on the controller:</p> <pre class="java code java" style="font-family:inherit">@Api<span style="color: #000000;">&#40;</span>value = <span style="color: #888888;">&quot;contacts&quot;</span>, description = <span style="color: #8888
88;">&quot;contacts&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #808080; font-style: italic;">// Swagger annotation</span> @Controller @RequestMapping<span style="color: #000000;">&#40;</span><span style="color: #888888;">&quot;/contacts&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #7F0055; font-weight: bold;">public</span> <span style="color: #7F0055; font-weight: bold;">class</span> ContactController <span style="color: #000000;">&#123;</span> ... <span style="color: #000000;">&#125;</span></pre> <p>It's time now to discover the documentation.</p> <h5>The documentation</h5> <p>The documentation endpoint is on the <code>/api-docs</code> URL, if we hit this URL and ask for JSON content, we'll get the following:</p> <pre class="javascript code javascript" style="font-family:inherit"><span style="color: #009900;">&#123;</span>     <span style="color: #3366CC;">&quot;apiVersion&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;1.0&quot;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;swaggerVersion&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;1.0&quot;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;basePath&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;http://localhost:8080/zencontact&quot;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;apis&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>         <span style="color: #009900;">&#123;</span>             <span style="color: #3366CC;">&quot;path&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;/api-docs/contacts&quot;</span><span style="color: #339933;">,</span>             <span style="color: #3366CC;">&quot;description&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;contacts&quot;</span>         <span style="color: #009900;">&#125;</span>     <span style="color: #009900;">&#93;</span> <span style="color: #009900;">&#125;</span></pre> <p>Note we stumble on the 2 properties we set up previously, the version of our API and the base path of the API. They'll appear on each page of our documentation.</p> <p>If we know we want to work on contacts, we just have to follow the link to find out more about the exposed operations on this resource. So let's hit <code>/api-docs/contacts</code>, here is an excerpt of the result:</p> <pre class="javascript code javascript" style="font-family:inherit"><span style="color: #009900;">&#123;</span>     <span style="color: #3366CC;">&quot;apiVersion&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;1.0&quot;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;swaggerVersion&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;1.0&quot;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;basePath&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;http://localhost:8080/zencontact&quot;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;resourcePath&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;/contacts&quot;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;apis&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>         <span style="color: #009900;">&#123;</span>             <span style="color: #3366CC;">&quot;path&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;/contacts&quot;</span><span style="color: #339933;">,</span>             <span style="color: #3366CC;">&quot;description&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;contacts&quot;</span><span style="color: #339933;">,</span>             <span style="color: #3366CC;">&quot;operations&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>                 <span style="color: #009900;">&#123;</span>                     <span style="color: #3366CC;">&quot;httpMethod&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;GET&quot;</span><span style="color: #339933;">,</span>                     <span style="color: #3366CC;">&quot;summary&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;select&quot;</span><span style="color: #339933;">,</span>                     <span style="color: #3366CC;">&quot;notes&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span>                     <span style="color: #3366CC;">&quot;deprecated&quot;</span><span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">false</span><span style="color: #339933;">,</span>                     <span style="color: #3366CC;">&quot;responseClass&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Collection[Contact]&quot;</span><span style="color: #339933;">,</span>                     <span style="color: #3366CC;">&quot;nickname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;select&quot;</span>                 <span style="color: #009900;">&#125;</span>             <span style="color: #009900;">&#93;</span>         <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>         <span style="color: #009900;">&#40;</span>...<span style="color: #009900;">&#41;</span> other APIs and operations     <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>     <span style="color: #3366CC;">&quot;models&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>         <span style="color: #3366CC;">&quot;Collection[Contact]&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>             <span style="color: #3366CC;">&quot;properties&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>                 <span style="color: #3366CC;">&quot;empty&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>                     <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;boolean&quot;</span>                 <span style="color: #009900;">&#125;</span>             <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>             <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Collection[Contact]&quot;</span>         <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;Contact&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>             <span style="color: #3366CC;">&quot;properties&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>                 <span style="color: #3366CC;">&quot;id&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>                     <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;long&quot;</span>                 <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>                 <span style="color: #3366CC;">&quot;lastname&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>                     <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style=
"color: #3366CC;">&quot;string&quot;</span>                 <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>                 <span style="color: #3366CC;">&quot;firstname&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>                     <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;string&quot;</span>                 <span style="color: #009900;">&#125;</span>             <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>             <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Contact&quot;</span>         <span style="color: #009900;">&#125;</span>     <span style="color: #009900;">&#125;</span> <span style="color: #009900;">&#125;</span></pre> <p>There are 2 parts in this documentation: the operations and the models. A client can send a GET on the <code>/contacts</code> URL to select the contacts. This is an example of an operation. We see this operation returns a collection of contacts. A client can learn more about this model in the <code>models</code> section. Note the <code>Contact</code> model, which is used by the PUT and POST operations (not shown above). All of this is scanned from the controller.</p> <p>So far, so good: I write a controller and get its documentation for free. But this is only the beginning: let's see now how to consume this documentation, first from a programmatic client, and second from a neat user interface.</p> <h5>A client of the REST API</h5> <p>Let's see how a programmatic client manages to list the contacts by only knowing declaratively that it wants, that is the name of the resource, the description of the operation, and be sure it's a GET (read) operation. The unique entry point of the API is the documentation URL:</p> <pre class="java code java" style="font-family:inherit"><span style="color: #000000;">String</span> documentationUrl = <span style="color: #888888;">&quot;http://localhost:8080/zencontact/api-docs&quot;</span> <span style="color: #000000;">String</span> resourceType = <span style="color: #888888;">&quot;contacts&quot;</span>; &nbsp; <span style="color: #000000;">String</span> documentation = tpl.<span style="color: #000000;">getForObject</span><span style="color: #000000;">&#40;</span>documentationUrl, <span style="color: #000000;">String</span>.<span style="color: #7F0055; font-weight: bold;">class</span><span style="color: #000000;">&#41;</span>; &nbsp; <span style="color: #808080; font-style: italic;">// extracts http://localhost:8080/zencontact</span> <span style="color: #000000;">String</span> basePath = JsonPath.<span style="color: #000000;">read</span><span style="color: #000000;">&#40;</span>documentation, <span style="color: #888888;">&quot;basePath&quot;</span><span style="color: #000000;">&#41;</span>; <span style="color: #808080; font-style: italic;">// extracts /api-docs/contacts to discover the available operations on the contacts resource</span> List<span style="color: #000000;">&lt;</span>String<span style="color: #000000;">&gt;</span> apiDocumentationPath = JsonPath.<span style="color: #000000;">read</span><span style="color: #000000;">&#40;</span>   documentation,   <span style="color: #888888;">&quot;apis[?].path&quot;</span>,   filter<span style="color: #000000;">&#40;</span>where<span style="color: #000000;">&#40;</span><span style="color: #888888;">&quot;description&quot;</span><span style="color: #000000;">&#41;</span>.<span style="color: #000000;">is</span><span style="color: #000000;">&#40;</span>resourceType<span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#41;</span>;</pre> <p>Go back to the first JSON document if you're not sure about what the previous code snippet does. It actually extracts the path to the documentation of the contacts resource.</p> <p>It's time now to discover the operation we want to use, so let's hit the resource documentation:</p> <pre class="java code java" style="font-family:inherit"><span style="color: #808080; font-style: italic;">// let's go to http://localhost:8080/zencontact/api-docs/contacts</span> documentation = tpl.<span style="color: #000000;">getForObject</span><span style="color: #000000;">&#40;</span>basePath+apiDocumentationPath.<span style="color: #000000;">get</span><span style="color: #000000;">&#40;</span>0<span style="color: #000000;">&#41;</span>, <span style="color: #000000;">String</span>.<span style="color: #7F0055; font-weight: bold;">class</span><span style="color: #000000;">&#41;</span>; <span style="color: #808080; font-style: italic;">// selects the info about the &quot;select&quot; operation on &quot;contacts&quot;</span> <span style="color: #808080; font-style: italic;">// we know it's GET, but we need to know the URL (it's actually &quot;/contacts&quot;)</span> List<span style="color: #000000;">&lt;</span>String<span style="color: #000000;">&gt;</span> apis = JsonPath.<span style="color: #000000;">read</span><span style="color: #000000;">&#40;</span>   documentation,   <span style="color: #888888;">&quot;$.apis[?].path&quot;</span>,   <span style="color: #7F0055; font-weight: bold;">new</span> OperationNicknameFilter<span style="color: #000000;">&#40;</span><span style="color: #888888;">&quot;select&quot;</span>,<span style="color: #888888;">&quot;GET&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#41;</span>; <span style="color: #808080; font-style: italic;">// contains &quot;/contacts&quot;</span> <span style="color: #000000;">String</span> resourcePath = apis.<span style="color: #000000;">get</span><span style="color: #000000;">&#40;</span>0<span style="color: #000000;">&#41;</span>; <span style="color: #000000;">String</span> contacts = tpl.<span style="color: #000000;">getForObject</span><span style="color: #000000;">&#40;</span>basePath+resourcePath, <span style="color: #000000;">String</span>.<span style="color: #7F0055; font-weight: bold;">class</span><span style="color: #000000;">&#41;</span>;</pre> <p>This time, refer back to the second JSON document to understand what the client is doing. It basically searches the path of an operation whose nickname is <code>select</code> and ensures this operation is exposed on a GET. Once it has the path, it sends the request and gets the following response, the contacts:</p> <pre class="javascript code javascript" style="font-family:inherit"><span style="color: #009900;">&#91;</span>     <span style="color: #009900;">&#123;</span>         <span style="color: #3366CC;">&quot;id&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;firstname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Erich&quot;</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;lastname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Gamma&quot;</span>     <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>     <span style="color: #009900;">&#123;</span>         <span style="color: #3366CC;">&quot;id&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;firstname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Richard&quot;</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;lastname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Helm&quot;</span>     <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>     <span style="color: #009900;">&#123;</span>         <span style="color: #3366CC;">&quot;id&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">3</span><span sty
le="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;firstname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Ralph&quot;</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;lastname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Johnson&quot;</span>     <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>     <span style="color: #009900;">&#123;</span>         <span style="color: #3366CC;">&quot;id&quot;</span><span style="color: #339933;">:</span> <span style="color: #CC0000;">4</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;firstname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;John&quot;</span><span style="color: #339933;">,</span>         <span style="color: #3366CC;">&quot;lastname&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Vlissides&quot;</span>     <span style="color: #009900;">&#125;</span> <span style="color: #009900;">&#93;</span></pre> <p>Isn't that great? With only the documentation URL as an entry point and a small idea about that it wants to do, the client can find the appropriate request to make. If we modify the controller, the client shouldn't break, as long as it follows the documentation. Nice decoupling.</p> <h5>What about HATEOAS?</h5> <p>The Swagger documentation implements <a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a>: once a client reaches the documentation "homepage", it can follow the link to learn more about the API of the various resources the system exposes.</p> <p>Do we need HATEOAS in our resources when we have the Swagger documentation? Of course we do. The Swagger documentation helps us to know about the resources and even about the expected formats. But the resources should expose links to navigate across each other.</p> <p>The sample controller doesn't use HATEOAS for simplicity sake, but we can <a href="/index.php?post/2012/06/13/HATEOAS-with-Spring-MVC-REST">add links to the resources</a> quite easily.</p> <p>So see the Swagger documentation and HATEOAS in resources as complementary.</p> <p>Let's see now another way to consume our documentation.</p> <h5>Swagger UI</h5> <p>Have you ever used a written-by-hand web service documentation which isn't up-to-date? I guess we're all familiar with that. The API developers are busy writing the API, they don't have time or forget to update the documentation, and the API client developers are trying to figure out how to use the API, but the documentation is broken or obsolete. Nobody is happy.</p> <p>Imagine now the developers that write client applications can consult a beautiful UI that tells them how to use the API. The UI even tells them what kind of documents the API expects. This UI exists and is called <a href="https://github.com/wordnik/swagger-ui">Swagger UI</a>:</p> <p><a href="/wp-content/uploads/2015/07/swagger_ui_api.png"><img src="/wp-content/uploads/2015/07/.swagger_ui_api_m.jpg" alt="Swagger UI" title="Swagger UI" /></a></p> <p>Swagger UI just expects a URL that leads to a Swagger-compliant documentation. It then uses the documentation to display all the operations.</p> <p>Swagger UI also inspects the models, so finding out about the structure of the JSON documents the API expects is straightforward. Here is an example for the PUT operation:</p> <p><a href="/wp-content/uploads/2015/07/swagger_ui_operation.png"><img src="/wp-content/uploads/2015/07/.swagger_ui_operation_m.jpg" alt="swagger_ui_operation.png" /></a></p> <p>Note Swagger UI lets you try out operations and see the results.</p> <h5>Conclusion</h5> <p>Time to wrap up. I hope you're convinced tools like Swagger are the way to go to build real REST API and to get all the benefits this architecture style promises. Don't wait any longer and check how to include <a href="https://developers.helloreverb.com/swagger/">Swagger</a> into your project, as it has out-of-the-box support for various REST frameworks (JAX-RS/Spring MVC for Java, Django for Python, etc).</p> <p><a href="https://github.com/acogoluegnes/rest-documentation-with-swagger-spring-mvc">Source code</a></p>