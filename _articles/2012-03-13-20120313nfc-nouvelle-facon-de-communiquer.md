---
ID: 439
post_title: 'NFC &#8211;  Nouvelle Façon de Communiquer ?'
author: Guillaume Gerbaud
post_date: 2012-03-13 09:35:00
post_excerpt: |
  <p>Ce billet est le premier d'une série autour de la technologie <a href="/index.php?tag/nfc">NFC</a> et particulièrement de son utilisation avec Android. Je vais commencer par présenter ce qu'est le NFC, détailler rapidement une partie de ses spécifications, et présenter son utilisation avec Android.</p>
layout: post
permalink: http://blog.zenika-offres.com/?p=439
published: true
slide_template:
  - ""
---
<p>Ce billet est le premier d'une série autour de la technologie <a href="/index.php?tag/nfc">NFC</a> et particulièrement de son utilisation avec Android. Je vais commencer par présenter ce qu'est le NFC, détailler rapidement une partie de ses spécifications, et présenter son utilisation avec Android.</p>
<!--more-->
<h2>NFC, qu'est ce que c'est&nbsp;?</h2> <p><br />
NFC, pour Near Field Communication, est une technologie de communication dite <q>sans contact</q> spécifiée par le <a href="http://www.nfc-forum.org/home/" hreflang="en">NFC Forum</a> en 2004. Cette spécification est basée sur la technologie RFID (Radio Frequency IDentification) et a surtout été pensée pour les appareils mobiles, même si elle ne s'y limite pas. Les puces NFC utilisent la seule bande de fréquence standardisée au niveau mondial des puces RFID, à savoir 13.56MHz (ISO 14443). Cette fréquence permet une portée théorique de 1 m, mais le NFC Forum limite cette portée à 10 cm.<br /><br /></p> <p>Il existe 4 normes de communication&nbsp;:</p> <ul> <li>ISO 14443 A</li> <li>ISO 14443 B</li> <li>Felica (poussée par Sony, supportée par le NFC Forum, non standardisée, utilisée surtout au Japon)</li> <li>ISO 15693 (non supportée par le NFC Forum).</li> </ul> <p><br />
Ces 4 normes sont supportées par Android sous les noms respectifs NfcA, NfcB, NfcF et NfcV.<br /><br /></p> <p>On distingue généralement 2 types d'appareil NFC&nbsp;: les readers/writers et les Tags. <br />Les Tags sont des éléments passifs composés d'une puce et d'une antenne, alimentés par le champ magnétique généré par un reader/writer.<br />
Le NFC Forum définit 4 types de Tags, de type 1 à type 4. <br />Les Tags les plus courants sont les Felica (Type 3) au Japon, et les Mifare(Type 2, ISO 14443 A) partout dans le monde. La capacité de ces derniers varie entre 48 octets et 4ko.<br />
<br /></p> <h3>NFC Data Exchange Format</h3> <p>Le format NDEF permet la communication entre 2 appareils NFC. <br />Ce format contient une en-tête permettant d'identifier le Tag, de le bloquer en lecture seule. Un message NDEF est composé de potentiellement plusieurs enregistrements. Il peut donc, dans la limite de la place disponible, contenir plusieurs informations.<br />
La spécification NDEF prédéfinie un certain nombre de types d'information possibles, notamment texte brute, URI, MimeType... <a href="http://www.nfc-forum.org/specs/spec_list/" hreflang="en">(voir spécifications)</a><br /></p> <p>Voici par exemple le message NDEF pour l'adresse du blog <q>http://blog.zenika.com</q> <br /></p> <pre> D1 01 10 55 03 62 6C 6F 67 2E 7A 65 6E 69 6B 61 2E 63 6F 6D </pre> <h4>Détails</h4> <p><strong>D1</strong> indique que le message ne contient qu'un enregistrement, qu'il n'est pas tronqué, que son type est défini par le NFC Forum, et enfin que la taille du payload (le contenu de l'enregistrement) est indiquée sur 1 octet.<br />
<strong>01</strong> est la taille du type, donc 1 octet.<br />
<strong>10</strong> est la taille du payload, donc 16 octets.<br />
<strong>55</strong> est le type, U en hexadécimal, donc une Uri.<br />
Les 16 octets suivants sont donc le payload. Le premier octet indique le préfix de l'Uri (03 pour "http://", pour "http://www." on aurait 01), le reste correspond à "blog.zenika.com".</p> <h2>NFC et Android</h2> <p><br />
Le NFC est supporté par Android depuis la version 2.3 (Gingerbread) de l'OS. Des améliorations conséquentes ont été apportées avec Ice Cream Sandwich. Je dénombre 4 utilisations possibles du NFC avec Android.</p> <h3>Mode Reader</h3> <p>Il s'agit du mode le plus simple d'utilisation. Il ne nécessite d'ailleurs aucune application spécifique supplémentaire sur les appareils Android compatibles NFC, car elle y existe déjà.<br />
Ainsi, le passage de l'appareil sur le Tag ci-dessus lancera automatiquement le navigateur sur l'adresse http://blog.zenika.com.<br />
Mais ce comportement par défaut, ne fonctionne que pour les types d'information standards. <br />
Pour lire du contenu spécifique, ou pour obtenir un comportement différent, il faudra alors écrire une application spécifique.</p> <h4>Cas d'usage</h4> <p>Ce mode est celui qui possède le plus de cas d'usage. On peut tout de même en citer quelques-uns.</p> <ul> <li>Marketing</li> </ul> <p>Une marque peut créer un Tag contenant un code promotionnel, ou une URL spécifique, permettant au client d'obtenir une réduction. Ce Tag pouvant être "caché" dans un panneau publicitaire. On peut également imaginer un Tag dans une boutique permettant de télécharger l'application officielle de la marque.</p> <ul> <li>Logistique</li> </ul> <p>Ce mode d'utilisation permet également de remplacer le code 2D ou 3D. Il est ainsi possible dans un entrepôt de référencer un rayon grâce à un Tag NFC.</p> <ul> <li>Divers</li> </ul> <p>Les cas d'usage étant illimités, je n'en citerai qu'un dernier. On peut créer un Tag qu'on place à proximité d'une box wifi (ou d'un routeur) et qui contient le SSID et la clé d'identification du réseau.</p> <h3>Mode Writer</h3> <p>On parle ici de l'écriture sur un Tag passif, pas d'un échange de données entre 2 reader/writer (ce mode sera abordé ensuite).<br />
Les cas d'usage cités ci-dessus nécessitent l'écriture préalable du Tag; il est tout à fait possible d'utiliser un appareil Android à cet effet.</p> <h3>Mode Passif</h3> <p>Dans ce mode, l'appareil Android agit comme s'il s'agissait d'un simple Tag. Il ne peut donc pas interagir dans ce mode avec un autre Tag passif, mais bel et bien avec un reader NFC (qui peut être ou non un appareil Android). Dans ce mode d'utilisation, c'est l'appareil Android qui fournit une information.</p> <h4>Cas d'usage</h4> <ul> <li>Marketing</li> </ul> <p>L'appareil Android sert de carte de fidélité en fournissant l'identifiant du client au reader.</p> <ul> <li>Logistique</li> </ul> <p>L'appareil peut servir de carte de pointage.</p> <h3>Mode Point-à-point</h3> <p>Dans ce mode, une communication bidirectionnelle entre 2 appareils est effectuée. Chaque appareil joue le rôle de reader tour à tour.</p> <h4>Cas d'usage</h4> <p>Les cas d'usage, ici, sont tous les cas nécessitant un échange&nbsp;: échange de coordonnées sous forme de VCard, échange de fichiers, processus d'authentification.</p> <h3>Paiement sans contact</h3> <p>Je n'ai pas évoqué le paiement sans contact car l'API Android actuelle ne permet pas l'accès à un élément sécurisé (ex: carte sim). Or ceci est indispensable à un mécanisme tel que le paiement. Les expérimentations actuelles, telle que celle de Nice, utilisent des appareils spécifiquement conçus pour l'opération. Un projet en cours tente de fournir l'accès à cet élément sécurisé. Plus d'infos&nbsp;: <a href="http://code.google.com/p/seek-for-android/" hreflang="en">Seek for Android</a></p> <h2>Conclusion</h2> <p><br />
Le <a href="/index.php?tag/nfc">NFC</a> est une technologie de demain dont les usages possibles sont sans limite. Dans les articles suivants, je présenterai des solutions techniques à quelques-uns des cas d'usage présentés dans ce billet</p>