---
ID: 402
post_title: ElasticSearch, interview with Shay Banon
author: orudent
post_date: 2011-04-13 10:21:00
post_excerpt: |
  <h5><img src="/public/Billet_0260/shay_banon.gif" alt="Shay Banon" style="float:left; margin: 0 1em 1em 0;" title="Shay Banon" />Shay Banon made us the honor to answer a few questions before his talk at the <a href="http://www.whatsnextparis.com/">What's Next Paris conference</a>, on May 26th - 27th at Le Grand Rex in Paris, France. Shay is the founder of ElasticSearch, an open-source, distributed, RESTful, Search Engine. Previously, Shay was Director of Technology at GigaSpaces Technologies, a leading provider of a new generation of application platforms for Java and .NET environments. He is passionate by data search and indexation in the cloud and blogs at <a href="http://www.elasticsearch.org/blog/">ElasticSearch.org</a>. The interview was conducted by Nicolas Martignole, the brains behind the well-known and influential <a href="http://www.touilleur-express.fr/2011/04/12/elasticsearch-interview-with-shay-banon/">Touilleur Express blog</a>.</h5>
layout: post
permalink: http://blog.zenika-offres.com/?p=402
published: true
slide_template:
  - ""
---
<h5><img src="/wp-content/uploads/2015/07/shay_banon.gif" alt="Shay Banon" style="float:left; margin: 0 1em 1em 0;" title="Shay Banon" />Shay Banon made us the honor to answer a few questions before his talk at the <a href="http://www.whatsnextparis.com/">What's Next Paris conference</a>, on May 26th - 27th at Le Grand Rex in Paris, France. Shay is the founder of ElasticSearch, an open-source, distributed, RESTful, Search Engine. Previously, Shay was Director of Technology at GigaSpaces Technologies, a leading provider of a new generation of application platforms for Java and .NET environments. He is passionate by data search and indexation in the cloud and blogs at <a href="http://www.elasticsearch.org/blog/">ElasticSearch.org</a>. The interview was conducted by Nicolas Martignole, the brains behind the well-known and influential <a href="http://www.touilleur-express.fr/2011/04/12/elasticsearch-interview-with-shay-banon/">Touilleur Express blog</a>.</h5>
<!--more-->
<p><em>Nicolas: Thanks Shay for the time you took to answer at my questions: To begin, a little challenge. How would you explain, how would you describe Elastic Search and your current job to someone  that is not a Geek&nbsp;? Let's say you have to describe your everyday's job to your best friend/your neighbor</em> <br />Shay: <a href="http://www.elasticsearch.org/">ElasticSearch</a> aims at providing search capabilities to any application or web site easily with the ability to scale to very large data sets. When building a web app, or any application for that matter, the knowledge of what to search on, what matters more than other (your ranking of data), how to integrate it into your app, is usually very specific. ElasticSearch aims to be a general purpose search solution, that can scale from one machine to hundreds. <br /></p> <p><em>N: If I understand correctly, we create JSON meta-data that we store to our Elastic Search space. On the query part, what kind of system do you offer&nbsp;? For instance, if I search for a book that was published in 2010, is it possible to search by date ?</em> <br />S: Yes, the basic search you do is search on text that is then ranked and returned with the best matched results. But, using the power of <a href="http://lucene.apache.org/java/docs/index.html">Lucene</a>, which is the internal search engine elasticsearch uses, one can certainly query/filter by range. Even more than that, one can have more interesting queries like fuzzy search and "more like this" queries. <br /></p> <p><img src="/wp-content/uploads/2015/07/map.png" alt="map.png" style="float:right; margin: 0 0 1em 1em;" /><em>N: I'd like to ask you a question about how you index the information. As a developer, is it my job to create a JSON structure from my data, and then push-it to my Elastic Search&nbsp;? How do we maintain the index&nbsp;? (River of data)</em> <br />S: In general, yea. ElasticSearch has a very simple API to index data, all you need to do is represent the data you want to index in json and send it to elasticsearch. This has become very simple for applications, as json is so popular these days and its quite simple to convert your domain model to json. <br /></p> <p><em>N: The Elastic Search web site describes a <a href="http://www.elasticsearch.org/blog/2010/02/16/searchengine_time_machine.html">Time Machine</a> feature, can you explain what kind of services it offers ?</em> <br />S: When writing distributed systems, one of the biggest question is how does one store the data for long term persistency. By default, elasticsearch can recreate the whole cluster state and indices from each node (in the cluster) local state (stored on the machine local file system). <br />Another option is to store the data in a shared storage. ElasticSearch can persist the cluster state into a shared storage, like Amazon S3, and can then recover it when needed. This process is highly optimized, and only persists changes done to the index, and, it is done in an async manner, not interfering with the indexing operation. <br /></p> <p><em>N: Can you tell us a little bit more about the network technology behind&nbsp;? For instance, what do you use as the network stack&nbsp;? Apache <a href="http://www.jboss.org/netty">Mina/JBoss Netty</a> or SimpleFramework ?</em> <br />S: Sure, ElasticSearch uses Netty as the underlying network library. It is completely built using async/event IO, meaning that, for example, when doing a distributed search across several nodes, there are no threads waiting/blocking on network to receive a response. <br /></p> <p><em>N: Does Elastic Search support long-polling/WebSocket client ?</em> <br />S: No, requests in elasticsearch are not long in nature. One executes a search request and receives a response, or an index request to index new data. <br />Places where it make sense, like scrolling a large result set, are provided using a scrollable like API, getting back a "scroll id" to continue and scroll the same request. <br />Actually, one place where long polling, or "pinging back" might make sense is the percolator support. Percolator in elasticsearch allows to register queries, and when indexing docs, find out which of the queries matched on it or not. <br />Currently, one gets it as a response for the index request, but imagine that as part of the registration, one would say: notify me when a document matching a specific query. <br /></p> <p><img src="/wp-content/uploads/2015/07/bonsai2.png" alt="bonsai2.png" style="float:left; margin: 0 1em 1em 0;" /><em>N: Can you explain what is a Facet in Elastic Search ?</em> <br />S: I love facets. Facet allow to get aggregated data on a search request, that relate to the documents that matched the query (and only them). They are computed in real time, and for example, one can get the most popular categories that correspond to the query. <br />ElasticSearch has support for several types of facets, my favorite, by far, is the histogram based one. Imagine indexing time related data, and getting back, on top of the search results (top 10 hits matching the query entered) also a information on how many hits occur each month. You can even go a step further and get statistical information per month (either on the time field you use to "bucket" the data, or another field). <br /></p> <p><em>N: I launched a Job Board a year ago. Let's say I want to search for a new Job located near Paris. Would it be possible to do some geolocalisation search ?</em> <br />S: Yes, elasticsearch has some quite nice Geo capabilities. Those include the ability to filter the results based on a location and distance, for example, show me only results that are 50km from the center of Paris. There is also a bounding box filter. Another, which is related, is to sort the data based on distance from a specific location. <br />And, of course, there is the geo distance facet, which allows to get aggregated statistical data within each "distance range". For example, give me the count of docs that matched within 10km from me, 30km from me, and beyond. <br />Yes, elasticsearch has some quite nice Geo capabilities. Those include the ability to filter the results based on a location and distance, for example, show me only results that are 50km from the center of Paris. There is also a bounding box filter. Another, which is related, is to sort the data based on distance from a specific location. <br />And, of course, there is the geo distance facet, which allows to get aggregated statistical data within each "distance range". For example, give me the count of docs that matched within 10km from me, 30km from me, and beyond. <br /></p> <p><em>N: Last question, as you know, "<a href="http://www.whatsnextparis.com/">What's Next</a>" ask to each speaker to do an original presentation that hasn't been shown before. So, can you tell us a little bit more about what you'd like to present in May ?</em> <br />S: Sure. The things I would like to focus on are a quick intro into elasticsearch, talking a bit about how its architected and its distributed nature, and how the work was done to take lucene and make it distributed. I will also cover some of the NoSQL integration elasticsearch has, for example, I will explain how easily indexing <a href="http://couchdb.apache.org/">CouchDB</a> into elasticsearch can be done using the CouchDB river. <br />
<br /></p> <p><img src="/wp-content/uploads/2015/07/banner_wsn_carre.gif" alt="banner_wsn_carre.gif" style="display:block; margin:0 auto;" /><br /></p> <p><em>N: Thanks for your time, and happy to see you soon in Paris</em> <br />S: Same here, very excited about the conference, Paris is certainly one of my favorite cities in the world. <br /></p> <h5>Thanks to Nicolas Martignole for his interview! You can find the french version on the <a href="http://www.touilleur-express.fr/2011/04/12/elasticsearch-interview-with-shay-banon/">touilleur express's blog</a><br /></h5> <p><br /></p>