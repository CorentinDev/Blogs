---
ID: 432
post_title: 'jQuery Mobile : un framework jQuery pour les applications Web Mobiles'
author: shadjiat
post_date: 2011-04-14 10:52:00
post_excerpt: |
  <p>jQuery Mobile est un framework crée par le projet <a href="http://jquery.org/">jQuery</a> dont la première version est sortie en octobre 2010. Il est actuellement disponible en version 1.0 alpha 4.1 (depuis le 7 avril) et sous les licenses MIT et GPL2.</p> <p>Le principal atout de jQuery Mobile est sa compatibilité avec un grand nombre de plateformes mobiles et navigateurs&nbsp;:</p> <ul> <li>Apple iOS (3.1-4.2): iPhone, iPod Touch, iPad</li> <li>Android (1.6-2.3)</li> <li>Blackberry 6</li> <li>Windows Phone 7</li> <li>Palm WebOS (1.4)</li> <li>Opera Mobile (10.1): Android</li> <li>Opera Mini (5.02): iOS, Android</li> <li>Firefox Mobile (beta): Android</li> </ul> <p>Le support de Blackberry 5 et Nokia/Symbian est prévu pour la version bêta (annoncée pour mi-avril).</p> <p>Dans cet article, je vais vous montrer comment utiliser ce nouveau framework pour faciliter le développement de vos applications web pour mobiles. Pour l'exemple, je reprendrai mon application de démonstration Agenda que j'ai développé avec jQTouch dans mon dernier <a href="/index.php?post/2011/03/28/Developper-des-applications-mobile-avec-JQTouch">billet</a>.</p>
layout: post
permalink: http://blog.zenika-offres.com/?p=432
published: true
slide_template:
  - ""
---
<p>jQuery Mobile est un framework crée par le projet <a href="http://jquery.org/">jQuery</a> dont la première version est sortie en octobre 2010. Il est actuellement disponible en version 1.0 alpha 4.1 (depuis le 7 avril) et sous les licenses MIT et GPL2.</p> <p>Le principal atout de jQuery Mobile est sa compatibilité avec un grand nombre de plateformes mobiles et navigateurs&nbsp;:</p> <ul> <li>Apple iOS (3.1-4.2): iPhone, iPod Touch, iPad</li> <li>Android (1.6-2.3)</li> <li>Blackberry 6</li> <li>Windows Phone 7</li> <li>Palm WebOS (1.4)</li> <li>Opera Mobile (10.1): Android</li> <li>Opera Mini (5.02): iOS, Android</li> <li>Firefox Mobile (beta): Android</li> </ul> <p>Le support de Blackberry 5 et Nokia/Symbian est prévu pour la version bêta (annoncée pour mi-avril).</p> <p>Dans cet article, je vais vous montrer comment utiliser ce nouveau framework pour faciliter le développement de vos applications web pour mobiles. Pour l'exemple, je reprendrai mon application de démonstration Agenda que j'ai développé avec jQTouch dans mon dernier <a href="/index.php?post/2011/03/28/Developper-des-applications-mobile-avec-JQTouch">billet</a>.</p>
<!--more-->
<h2>Utilisation</h2> <p><br />
On commence d'abord par créer une page HTML5. Ensuite, on référence les fichiers du framework dans la balise <code>head</code>, à savoir la dernière version de jQuery, le script jQueryMobile, et son CSS.</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">link</span> <span style="color: #000066;">rel</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;stylesheet&quot;</span> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://code.jquery.com/mobile/1.0a4/jquery.mobile-1.0a4.min.css&quot;</span> <span style="color: #66cc66;">/</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">script</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text/javascript&quot;</span> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://code.jquery.com/jquery-1.5.min.js&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">script</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">script</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text/javascript&quot;</span> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://code.jquery.com/mobile/1.0a4/jquery.mobile-1.0a4.min.js&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">script</span>&gt;</span></pre> <p>Ces fichiers sont également téléchargeables sur le site de <a href="http://jquerymobile.com/download/">jQueryMobile</a>.</p> <p>Ensuite, dans la balise <code>body</code> on crée une page de notre application en spécifiant l'attribut <code>data-role="page"</code> dans un élément <code>div</code>.</p> <p>Cet attribut fait partie des "custom data attributs" introduits par HTML5. Ils sont sous la forme <code>data-*</code> et permettent d'ajouter une donnée ou une information sur l'élément HTML sans qu'elle ne soit visible par l'utilisateur. Et ce sont ces données que jQuery Mobile utilise pour structurer et transformer la page web en une application mobile.</p> <p>Ainsi, une page "typique" jQuery Mobile est organisée de la manière suivante&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;page&quot;</span>&gt;</span>         <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;header&quot;</span>&gt;</span>...<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span>         <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;content&quot;</span>&gt;</span>...<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span>         <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;footer&quot;</span>&gt;</span>...<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre> <p>Pas besoin de chercher les classes dans les CSS du framework, il suffit à chaque fois de spécifier le <code>data-role</code> de chaque élément pour que jQuery Mobile lui associe le style adapté. Par ailleurs, dans la version alpha 4, le framework introduit l'utilisation de "namespace" pour ces attributs afin d'éviter d'éventuels conflits avec d'autres librairies.</p> <h3>Thèmes</h3> <p>jQuery Mobile propose 5 thèmes de styles et de couleurs, appelés par des lettres (a,b,c,d,e), pour mieux personnaliser les pages. Ces thèmes sont utilisables indépendament pour chaque élément et cela en étant déclarés dans l'attribut <code>data-theme</code>. On peut ainsi choisir de mettre un bouton en jaune avec le thème <code>e</code>, la barre d'outil en noir avec le thème <code>a</code>, le footer en bleu (thème <code>b</code>), etc... On peut également définir un thème unique pour toute la page en le déclarant dans la balise <code>div</code> (le thème par défaut étant <code>a</code>)&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;page&quot;</span> data-theme<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;b&quot;</span>&gt;</span>         <span style="color: #808080; font-style: italic;">&lt;!--contenu--&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre> <p>Ce qui aura pour effet ici de colorier en bleu le header et le footer, et laisser en gris clair le contenu (pour plus de contraste). Ces thèmes ne modifient pas l'organisation ni la forme ou dimention des éléments. Ils agissent uniquement sur leur couleur et texture.</p> <h3>Configuration</h3> <p>Ce qu'il faut savoir c'est que jQuery Mobile effectue des transformations automatiquement avant que le document ne soit chargé. Ces "transformations" sont basées sur la configuration par défaut du framework. Lorsque jQueryMobile s’exécute, il déclanche un évènement <code>mobileinit</code> qu'on peut récupérer pour le configurer&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit">$<span style="color: #009900;">&#40;</span>document<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">bind</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;mobileinit&quot;</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>   <span style="color: #006600; font-style: italic;">//configurations...</span> <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span>;</pre> <p>Les options configurables sont accessibles via l'objet <code>$.mobile</code>. La liste de ces options est disponible sur le <a href="http://jquerymobile.com/demos/1.0a4/#docs/api/globalconfig.html">site de documentation de jQuery Mobile</a>. Ce script doit être ajouté dans la balise <code>head</code> du document après la référence à jQuery et avant celle de jQuery Mobile.</p> <h2>Application</h2> <p><br />
A présent, passons à la pratique. Je reprend mon application agenda que j'ai développé avec jQTouch lors de mon billet précédent, pour l'adapter avec jQuery Mobile. Je rappelle son principe&nbsp;: l'application permet de créer des événements et de les enregistrer en local sur le navigateur. Ils sont listés sur la page d'accueil et chaque évenement a son propre panel avec ses informations. Parmis ces infos, on peut spécifier son adresse et ensuite l'afficher sur une Google Map par rapport à la localisation de l'utilisateur.</p> <p>Les deux frameworks se ressemblant assez, je n'ai pas eu beaucoup de modifications à faire pour porter l'application.</p> <p>Voici ma page d'accueil&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;home&quot;</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;page&quot;</span> data-theme<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;b&quot;</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;header&quot;</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">h1</span>&gt;</span>My Agenda<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">h1</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">a</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;button&quot;</span> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;#new&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ui-btn-right&quot;</span>&gt;</span>New Event<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">a</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;content&quot;</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;events&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre> <p><img src="/wp-content/uploads/2015/07/.Capture_Home_s.jpg" alt="Capture_Home.png" style="display:block; margin:0 auto;" /></p> <p>On peut remarquer le "data-role" <code>button</code> qui permet d'afficher un bouton à la place du lien. Par défaut, les boutons sont affichés de gauche à droite. Pour le positionner à droite, j'utilise la classe <code>ui-btn-right</code>. Par ailleurs, jQuery Mobile ajoute automatiquement à gauche sur le "header" un bouton <code>back</code> dès qu'on navigue à une autre page pour permettre de revenir à la page précédente.</p> <p>Ensuite, je passe à la page d'ajout d'évènement. Cette page se présente sous forme d'un formulaire avec différents champs à remplir. Pour créer un formulaire avec jQuery Mobile, on commence par ajouter la balise <code>form</code> dans l'élément <code>div</code> représentant le contenu de la page (<code>data-role="content"</code>). Pour un meilleur rendu, le formulaire peut être affiché sous forme de liste, chaque item encadrant un champ et son label, et ayant pour attribut <code>data-role="fieldcontain"</code>&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">form</span>&gt;</span>      <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">ul</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;listview&quot;</span> data-inset<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;true&quot;</span>&gt;</span> 	   <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">li</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fieldcontain&quot;</span>&gt;</span> 		    <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">label</span> <span style="color: #000066;">for</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;name&quot;</span>&gt;</span>Event : <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">label</span>&gt;</span> 		    <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">input</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;name&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;name&quot;</span> placeholder<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;Enter the event's name&quot;</span> required<span style="color: #66cc66;">/</span>&gt;</span> 	   <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">li</span>&gt;</span>            <span style="color: #808080; font-style: italic;">&lt;!-- ... --&gt;</span>      <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">ul</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">form</span>&gt;</span></pre> <p>Cette organisation du formulaire est très récente (ajout dans la version alpha 4) et améliore considérablement son affichage.</p> <p><img src="/wp-content/uploads/2015/07/.Capture_create_Event_s.jpg" alt="Capture_create_Event.png" style="display:block; margin:0 auto;" /></p> <p>Par défaut, jQuery Mobile "transforme" automatiquement les types d'inputs les plus communs en des composants adaptés aux mobiles, désactivant pour certains l'affichage natif. Cependant depuis la version alpha 4, pour le type <code>select</code>, jQuery Mobile affiche le menu natif au lieu de son "selectmenu" pour des raisons de performances. Pour l'activer, il suffit d'ajouter l'attribut <code>data-native-menu="false"</code> à l'élément .</p> <p><img src="/wp-content/uploads/2015/07/.SelectMenu_t.jpg" alt="SelectMenu.JPG" style="display:block; margin:0 auto;" /></p> <p>D'autre part, le framework propose un composant "toggle switch" qu'on peut afficher pour un élément <code>select</code> qui aurai deux options et en lui ajoutant un attribut <code>data-role="slider</code>&nbsp;:</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fieldcontain&quot;</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">label</span> <span style="color: #000066;">for</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;alarm&quot;</span>&gt;</span>Alarm :<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">label</spa
n>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">select</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;alarm&quot;</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;alarm&quot;</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;slider&quot;</span>&gt;</span>                 <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">option</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;off&quot;</span>&gt;</span>OFF<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">option</span>&gt;</span> 		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">option</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;on&quot;</span>&gt;</span>ON<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">option</span>&gt;</span> 	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">select</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre> <p>Cependant, les derniers inpus HTML5 tels que <code>date</code> et <code>time</code> ne sont pas "customisés" par jQuery Mobile. Tout dépend donc de l'implémentation du navigateurs (sur iphone et android, les navigateurs natifs ne les implémentent pas). Un plugin DatePicker est encore en experimentation mais ne fait pas partie de la version actuelle du framework.</p> <p>En ce qui concerne les boutons, jQuery Mobile transforme automatiquement tous les inputs de types <code>button</code>, <code>submit</code>, <code>reset</code> et <code>image</code> sans ajout de l'attribut <code>data-role="button"</code>. Par ailleurs, le framework propose des icones pour personnaliser les boutons avec l'attribut <code>data-icon</code>.</p> <p>A présent passons au panel de localisation de l'évènement. De même que pour jQTouch, l'attribut <code>style="width:100%; height:100%;"</code> doit être ajouté au panel et au <code>div</code> de la carte pour qu'elle soit affichée sur tout l'écran.</p> <pre class="html code html" style="font-family:inherit"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;map&quot;</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;page&quot;</span> data-theme<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;d&quot;</span> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;width:100%; height:100%;&quot;</span>&gt;</span>    	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;header&quot;</span> data-theme<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;b&quot;</span>&gt;</span>    		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">h1</span>&gt;</span>Map Location<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">h1</span>&gt;</span>    		<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">a</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;button&quot;</span> data-icon<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;home&quot;</span> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;#home&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ui-btn-right&quot;</span>&gt;</span>Home<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">a</span>&gt;</span>    	<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span>    	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;map_canvas&quot;</span> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;width:100%; height:85%;&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span>    	<span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">a</span> data-role<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;button&quot;</span> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;#&quot;</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;traceButton&quot;</span> data-theme<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;b&quot;</span>&gt;</span>Go to my Event<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">a</span>&gt;</span> <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre> <p><img src="/wp-content/uploads/2015/07/.Capture_Map_s.jpg" alt="Capture_Map.png" style="display:block; margin:0 auto;" /></p> <p>Voila pour la page HTML. En ce qui concerne la gestion des évènements et la géolocalisation, les scripts développés avec jQTouch restent quasiment les mêmes. Le seul changement se situe au niveau de l'ajout du panel détaillant chaque évènement (qui doit être adapté à jQuery Mobile) ainsi que son affichage sur la page d'accueil. Ces ajouts dynamiques ont posé quelques problèmes d'affichage. En effet jQuery Mobile modifie le DOM de la page au chargement (en ajoutant des éléments et des attributs de style). Ainsi lorsque j'ajoute un élément en javascript, il n'est pas "transformé" par jQuery Mobile et ne s'affiche pas correctement. Pour contrer ce problème, plusieurs solutions se présentent. En ce qui concerne l'affichage du panel de chaque événement, j'ai utilisé la fonction <code>page()</code> sur le panel qui va obliger jQuery Mobile à appliquer ses modifications. En ce qui concerne les listes déja définies pour lesquelles on souhaite ajouter un item, on utilise la fonction suivante&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit">$<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'#list_id'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">listview</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'refresh'</span><span style="color: #009900;">&#41;</span>;</pre> <p>Vous trouverez le code complet de l'application sur le <a href="https://github.com/Zenika/Blogs">Github de Zenika</a>.</p> <h2>Tests et critique</h2> <p><br />
Tout comme pour jQTouch, j'ai testé mon application sur différents systèmes iPhone, iPad, et Android. Et de même qu'avec jQTouch, l'application fonctionne beaucoup mieux sur iphone que sur Android. Sur ce dernier, le temps de réaction aux 'tap' est particulièrement long. Les transitions sont néanmoins plus stables. Le framework est un peu plus riche et s'adresse à un plus grand nombre de plateformes. D'autre part, les différents thèmes proposés permettent une meilleure personnalisation de l'application.</p> <h3>Ressources</h3> <ul> <li>Documentation et Démos sur le site de <a href="http://jquerymobile.com/demos/1.0a4.1/">jQuery Mobile</a></li> </ul> <p><br />
Pour cloturer ce volet consacré aux frameworks JavaScript mobiles, mon prochain billet introduira Sencha Touch, une API javascript pure, basée sur ExtJS.</p> <h4>A suivre ...</h4>