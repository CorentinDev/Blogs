---
ID: 307
post_title: 'ThoughtWorks &#8211; Continuous Delivery &#8211; Retour de conférence'
author: Grégory Boissinot
post_date: 2011-07-08 18:04:00
post_excerpt: |
  <p>Jeudi dernier, l'équipe Zenika était présente au séminaire <a href="www.thoughtworks.com/">ThoughtWorks</a> qui se déroulait à Paris et  animé par <a href="http://jezhumble.net/">Jez Humble</a>, auteur du livre <a href="http://www.amazon.com/gp/product/0321601912?tag=contindelive-20">“Continuous Delivery”</a>. Jez Humble et son équipe ont transmit leur savoir sur les grands principes du “Continuous Delivery” durant toute une journée. Entouré d'une vingtaine de personnes, le séminaire s'est composé d'un ensemble de slides résumant  étape par étape la démarche du continuous delivery. Et en fin de journée, nous avons eu une mini-démonstration du logiciel <a href="http://www.thoughtworks-studios.com/go-agile-release-management">Toughworks GO</a>. Ce dernier est pour le moment le seul logiciel du marché capable d'implanter pleinement un pipeline de continuous delivery, c'est-à-dire une implémentation automatisée (ou semi-automatisée) avec des mécanismes d’approbation (manuel ou automatique) des étapes de build, de déploiement/installation, de test et de livraison. L'objectif est de donner de la visibilité, du feedback et une maîtrise complète de la livraison de ses applications.</p>
layout: post
permalink: http://blog.zenika-offres.com/?p=307
published: true
---
<p>Jeudi dernier, l'équipe Zenika était présente au séminaire <a href="www.thoughtworks.com/">ThoughtWorks</a> qui se déroulait à Paris et  animé par <a href="http://jezhumble.net/">Jez Humble</a>, auteur du livre <a href="http://www.amazon.com/gp/product/0321601912?tag=contindelive-20">“Continuous Delivery”</a>. Jez Humble et son équipe ont transmit leur savoir sur les grands principes du “Continuous Delivery” durant toute une journée. Entouré d'une vingtaine de personnes, le séminaire s'est composé d'un ensemble de slides résumant  étape par étape la démarche du continuous delivery. Et en fin de journée, nous avons eu une mini-démonstration du logiciel <a href="http://www.thoughtworks-studios.com/go-agile-release-management">Toughworks GO</a>. Ce dernier est pour le moment le seul logiciel du marché capable d'implanter pleinement un pipeline de continuous delivery, c'est-à-dire une implémentation automatisée (ou semi-automatisée) avec des mécanismes d’approbation (manuel ou automatique) des étapes de build, de déploiement/installation, de test et de livraison. L'objectif est de donner de la visibilité, du feedback et une maîtrise complète de la livraison de ses applications.</p>
<!--more-->
<p><strong>Quelques rappels de vocabulaire</strong></p> <p>“Continuous Integration” est une méthodologie de développement consistant à instancier une instance du processus d'intégration (génération de code, compilation, exécution des tests, ..) à chaque changement d’environnement (source code, filesystem, ..).</p> <p>“Continuous Delivery” est l'étape suivante et caractérise la possibilité de déployer ses applications à tout moment.</p> <p>“Continuous Deployment” est la dernière marche du « Continuous » et caractérise le déploiement en continu en production</p> <p><strong>Quelques notions à retenir</strong></p> <ul> <li>Les problèmes de déploiement sont dues principalement à la structure des organisations et au manque de connaissances des outils. Mais dans tous les cas, cela est rarement due à un manque de temps.</li> <li>Tout le monde doit être responsable du “delivery”</li> <li>Plus on livre souvent, plus les livraisons (release) contiennent moins de choses; on réduit ainsi automatiquement les risques.</li> <li>Essayer d'automatiser le maximum d'étapes de votre pipeline</li> <li>Toujours prévoir une procédure de retour en arrière (rollback) en cas de déploiement</li> <li>Considérer votre infrastructure comme du code afin de pouvoir détecter les changements. Les outils <a href="http://projects.puppetlabs.com/projects/puppet">Puppet</a> ou<a href="http://wiki.opscode.com/pages/viewpage.action?pageId=7274862"> Chef</a> aident alors à répondre à cette problématique.</li> <li>Limiter le concept “feature branching”. Ce style de dévelopement logiciel consiste à créer une branche par fonctionnalité majeure de l'application à implémenter. A contratrio, il est préférable de travailler sur une seule branche principale pour l'équipe.</li> <li>Utiliser la technique 'Feature Toogles' et/ou la technique 'Branch by Abstraction' pour éviter le 'Feature Branching' et ainsi permettre de pouvoir continuer à livrer sans que l'implémentation d'une nouvelle fonctionnalité soit terminée. 'Feature Toogles' consiste à mettre à disposition des mécanismes de switch pour rendre actif une fonctionnalité à la demande. L'autre technique 'Branch by abstraction' (ou Code branching) est une technique d'architecture consistant à faire des couches d'architecture afin de prémunir son code source des changements inattendues qui peuvent être faits. Par exemple, si on veut s'abstraire du gestionnaire de persistance Hibernate pour potentiellement utiliser autre chose, cela va consister à faire une interface proxy de persistence et ainsi relayer Hibernate à une typologie d'implémentation.</li> <li>Produire vos binaires une seule fois (très important dans le cadre de Maven qui va à l'encontre de ceci avec son mécanisme de release qui reconstruit les binaires)</li> </ul> <p><strong>Nos regrets</strong></p> <p>On regrette parfois la nuance de certaines affirmations au regard par exemple de très grands projets industriels.</p> <p>Prenons par exemple le développement en branches (ou feature branching).  Cette technique est souvent peu recommandée dans un cadre d'intégration continue. En effet, “feature branching” engendre une tendance à intégrer les fonctionnalités au reste du projet tardivement (plusieurs jours, plusieurs semaines, … après le début de l'implémentation de la fonctionnalité) et rend ainsi les merges douloureux avec les branches principales d'intégration. Les merges sont d'autant complexe que le temps d'intégration est grand.</p> <p>A contrario, l'intégration continue a pour objectif d'intégrer en continu (ou à défaut fréquemment) les développements d'une équipe pour une branche principale et non sur chaque branche de fonctionnalité. Et mettre en place un CI serveur sur chaque branche n'est pas non plus une solution car nous nous retrouvons avec l'intégration de plusieurs versions du produit pour une seule version au finale.</p> <p>Néanmoins, dans le cadre d'une très grosse équipe avec des livraisons régulières sur la branche d'intégration (deliver), ce problème est réduit significativement. En effet, de part la taille de l'équipe, nous avons en permanence une branche d'intégration alimentée avec des nouveaux éléments de développement et donc une réelle intégration en continue.</p> <p><strong>En conclusion</strong></p> <p>Nous avons pu apprécier les retours d'expériences et les échanges avec l'ensemble des participants.  Jez Humble est un très bon communiquant et nous avons hâte de le revoir parmi nous à Paris.</p>