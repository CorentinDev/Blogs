---
ID: 175
post_title: Eclipse Indigo et EGit 1.0.0
author: Alexandre Garnier
post_date: 2011-07-26 17:24:00
post_excerpt: |
  <p>Personne n'a pu passer au travers&nbsp;: le 22 juin dernier la fondation Eclipse a sorti <a href="http://www.eclipse.org/indigo/">Eclipse Indigo</a>, sa release simultanée d'Eclipse et de plus de 60 projets.</p> <p>Mais cette année, un projet intéressant est sorti en version 1.0.0 avec Indigo&nbsp;: <a href="http://www.eclipse.org/egit/">EGit</a>, le plugin d'intégration de Git dans Eclipse. Avec la migration de ses projets sous Git, la fondation Eclipse se devait d'avoir un plugin à la hauteur. C'est maintenant chose faite&nbsp;!</p> <p>Un petit tour des fonctionnalités d'EGit.</p>
layout: post
permalink: http://blog.zenika-offres.com/?p=175
published: true
---
<p>Personne n'a pu passer au travers&nbsp;: le 22 juin dernier la fondation Eclipse a sorti <a href="http://www.eclipse.org/indigo/">Eclipse Indigo</a>, sa release simultanée d'Eclipse et de plus de 60 projets.</p> <p>Mais cette année, un projet intéressant est sorti en version 1.0.0 avec Indigo&nbsp;: <a href="http://www.eclipse.org/egit/">EGit</a>, le plugin d'intégration de Git dans Eclipse. Avec la migration de ses projets sous Git, la fondation Eclipse se devait d'avoir un plugin à la hauteur. C'est maintenant chose faite&nbsp;!</p> <p>Un petit tour des fonctionnalités d'EGit.</p>
<!--more-->
<h2>Installation</h2> <p>Avec l'Eclipse Marketplace qui existe depuis Helios, rien de plus simple&nbsp;: chercher EGit et cliquer sur "Install".</p> <h2>Configuration</h2> <p>Dans les préférences d'Eclipse, il est possible de configurer les options d'EGit dans "Team &gt; Git", rien de bien compliqué, des options classiques de plugin VCS.</p> <p>Mais encore mieux&nbsp;: dans "Team &gt; Git &gt; Configuration" vous pouvez configurer Git lui-même avec un onglet pour chaque niveau&nbsp;: 'User' (='global'), 'System' ou 'Repository'.</p> <p><img src="/wp-content/uploads/2015/07/.EGit-Preferences__s.jpg" alt="EGit-Preferences_.png" /></p> <h2>Repositories</h2> <p>Egit ajoute une nouvelle perspective "Git Repository Exploring" qui permet de gérer les repositories Git&nbsp;:</p> <ul> <li>ajouter un repository existant (que vous avez déjà cloné en dehors d'Eclipse)</li> <li>cloner un repository existant</li> <li>créer un nouveau repository</li> </ul> <p><img src="/wp-content/uploads/2015/07/.EGit-Git_Repository_Exploring_m.jpg" alt="EGit-Git_Repository_Exploring.png" /></p> <p>Dans la vue "Git Repositories" vous pouvez alors parcourir, sur chaque repository&nbsp;:</p> <ul> <li>les branches locales (la branche courante est signalée par un petit tick)</li> <li>les tags</li> <li>les références</li> <li>les repositories distants</li> <li>le dossier local</li> </ul> <h2>Utilisation quotidienne</h2> <h3>Branching</h3> <p>Il suffit simplement de faire un clique droit sur une référence de la vue "Git Repositories" et de choisir "Create Branche".</p> <p><img src="/wp-content/uploads/2015/07/EGit-Create_Branch_.png" alt="EGit-Create_Branch_.png" /></p> <p>Selon votre configuration de "Label Decoration" le nom du repository et de la branche courante devraient apparaître dans les vues d'exploration du code.</p> <h3>Status</h3> <p>Pour voir l'état des modification locales, plusieurs moyen&nbsp;:</p> <ul> <li>les décoration classiques dans le code&nbsp;: un <code>&gt;</code> devant le nom d'un dossier/fichier modifié ou une étoile s'il est indéxé</li> <li>la vue "Synchronize" de la perspective "Team Synchronization" qui possède le mode "Git Change Set" permettant de voir les modification indexées et celles qui ne le sont pas et qui permet de plus de faire une synchronisation par rapport à n'importe quelle référence</li> <li>la nouvelle vue "Git Staging" depuis laquelle vous pouvez glisser/déposer les modifications de/hors l'index.</li> </ul> <p><img src="/wp-content/uploads/2015/07/.EGit-Git_Staging_m.jpg" alt="EGit-Git_Staging.png" /></p> <h3>Diff</h3> <p>Là rien de plus classique&nbsp;: en cliquant sur un fichier depuis les vues de synchronisation, cela ouvre le diff.</p> <h3>Commit</h3> <p>Le commit peut être fait directement depuis la vue "Git Staging" ou bien en lançant la fenêtre de commit depuis le menu contextuel.</p> <p><img src="/wp-content/uploads/2015/07/EGit-Commit_Changes_.png" alt="EGit-Commit_Changes_.png" /></p> <h2>Historique</h2> <h3>History</h3> <p>La classique vue "History" a été adapté pour intégrer l'historique Git avec le graphique des branches comme dans <a href="http://www.kernel.org/pub/software/scm/git/docs/gitk.html">gitk</a>.</p> <p><img src="/wp-content/uploads/2015/07/.EGit-History_m.jpg" alt="EGit-History.png" /></p> <p>Comme d'habitude la vue peut être synchronisée avec l'élément sélectionné, mais chose nouvelle&nbsp;: on peut modifier la portée de l'historique&nbsp;:</p> <ul> <li>la ressource et ses enfants</li> <li>le dossier parent</li> <li>le projet</li> <li>le repository</li> </ul> <h3>Recherche</h3> <p>Il est aussi possible de rechercher dans l'historique via la recherche "Git Search".</p> <p><img src="/wp-content/uploads/2015/07/.EGit-Search__m.jpg" alt="EGit-Search_.png" /> <img src="/wp-content/uploads/2015/07/.EGit-Search_Results_m.jpg" alt="EGit-Search_Results.png" /></p> <p>Il est alors possible d'ouvrir les commits pour avoir les information sur un commit. Cette vue est très sympathique.</p> <p><img src="/wp-content/uploads/2015/07/.EGit-Commit_View_m.jpg" alt="EGit-Commit_View.png" /></p> <h3>Annotation</h3> <p>J'ai l'impression de faire découvrir cette fonctionnalité des (D)VCS à chaque fois que j'en parle à quelqu'un mais pour moi, c'est une fonctionnalité vraiment utile et elle ici parfaitement intégré dans Eclipse.</p> <p><img src="/wp-content/uploads/2015/07/.Egit-Blame_m.jpg" alt="Egit-Blame.png" /></p> <h2>Utilisation 'Avancé'</h2> <h3>Fetch/Push</h3> <p>Le menu contextuel des remotes de la vue "Git Repositories" permet de lancer un fetch ou un pull selon l'élément.</p> <p><img src="/wp-content/uploads/2015/07/.EGit-Fetch_s.jpg" alt="EGit-Fetch.png" /></p> <p>S'ouvre alors une fenêtre indiquant les références à fetcher/puller (configurable de manière assez pointue mais complexe) et le fetch/pull et ensuite lancé à la validation.</p> <p><img src="/wp-content/uploads/2015/07/.EGit-Fetch-Results_s.jpg" alt="EGit-Fetch-Results.png" /></p> <h3>Merge</h3> <p>Cette fois, c'est le menu contextuel des branches de  la vue "Git Repositories" qui permet de lancer un merge.</p> <p><img src="/wp-content/uploads/2015/07/.EGit-merge_s.jpg" alt="EGit-merge.png" /></p> <p>Ensuite, si tout se passe bien, tant mieux. Sinon EGit se met en état de conflit et tous les fichiers en conflits seront indiqués avec une double-flèche rouge.</p> <p><img src="/wp-content/uploads/2015/07/EGit-Conflit.png" alt="EGit-Conflit.png" /></p> <p>Une résolution des conflits, des 'add' et enfin un commit (avec le message de conflit classique Git proposé par défaut) et le tour est joué.</p> <h3>Rebase</h3> <p>Le rebase se lance comme pour le merge (juste en dessous dans le menu contextuel).</p> <p>Pas de conflit, pas de problème. Dans le cas contraire, une fenêtre de gestion du rebase apparait proposant les étapes classiques de rebase&nbsp;:</p> <ul> <li>résolution et continue</li> <li>suppression du commit et continue</li> <li>abandon</li> </ul> <p><img src="/wp-content/uploads/2015/07/EGit-Rebase_Result_.png" alt="EGit-Rebase_Result_.png" /></p> <p>Si on demande la résolution, EGit ouvre alors la vue Eclipse de résolution de merge. Il faut ensuite résoudre les conflits, faire les 'add' et lancer 'Rebase &gt; Continue' depuis le menu contextuel du repository pour passer à l'étape suivante, mais cela ne semble pas fonctionner dans le cadre de mon test...</p> <h2>Les défauts</h2> <h3>Problèmes</h3> <p>Voici les problèmes que j'ai rencontré en utilisant un peu EGit&nbsp;:</p> <ul> <li>les clones se font par défaut dans un dossier <code>USER_HOME/git</code>, pourquoi pas le workspace&nbsp;? C'est tout de même configurable.</li> <li>mon post-commit hook n'est pas lancé lors d'un commit via EGit (un bug dans JGit ?)</li> <li>problème dans la continuation du rebase</li> </ul> <h3>Lacunes</h3> <p>Rapidement, les choses que je trouve qu'il manque encore dans EGit&nbsp;:</p> <ul> <li>ouverture de la vue de commit depuis l'historique</li> <li>parcourt du reflog (mais cela semble venir avec la 1.1&nbsp;: <a href="http://aniszczyk.org/2011/06/26/git-reflog-and-eclipse/">git-reflog</a>)</li> <li>intégration du stash (mais de même cale devrait arriver assez vite)</li> <li>ajout à l'index hunk par hunk (<code>git add --patch</code>)</li> <li>rebase interactif (<code>git rebase -i</code>)</li> <li>option pour le merge (entre autre <code>--no-ff</code>)</li> <li>une vrai vue de résolution de merge à la tortoiseMerge&nbsp;: MINE et THEIRS en côte à côte et le résultat du merge en dessous. Mais j'ai jamais vu ça dans aucune intégration VCS dans Eclipse</li> <li>enregistrement des WorkingSet de la vue de synchronisation (il faut refaire toute la manipulation de création à chaque fois pour le moment...)</li> </ul> <h2>Bilan</h2> <p>En conclusion, un plugin qui est assez mature pour une utilisation simple au quotidien malgré quelques lacunes et la ligne de commande est encore parfois nécessaire. Mais comparé à la version 0.8 d'il y a un an les évolutions sont énormes et cela ne laisse présager que du bon pour le futur de ce plugin.</p> <p>Et vous&nbsp;? Que pensez-vo
us de EGit&nbsp;? Quelle fonctionnalité vous plaît&nbsp;? Laquelle vous manque&nbsp;?</p>