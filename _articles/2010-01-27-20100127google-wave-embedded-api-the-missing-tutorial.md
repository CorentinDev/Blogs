---
ID: 85
post_title: 'Google Wave Embedded API : the missing tutorial'
author: ocroisier
post_date: 2010-01-27 20:42:00
post_excerpt: |
  <p>Google Wave provides an "Embedded API" that can be leveraged to insert a single Wave into any HTML page. <br />
  Unfortunately, the official documentation is somewhat old and gives the procedure only for the sandbox waves, not the regular ones, so here is a very short tutorial to help you integrate waves in your own websites/blogs in minutes&nbsp;!</p>
layout: post
permalink: http://blog.zenika-offres.com/?p=85
published: true
---
<p>Google Wave provides an "Embedded API" that can be leveraged to insert a single Wave into any HTML page. <br />
Unfortunately, the official documentation is somewhat old and gives the procedure only for the sandbox waves, not the regular ones, so here is a very short tutorial to help you integrate waves in your own websites/blogs in minutes&nbsp;!</p>
<!--more-->
<h3>Finding the required parameters</h3> <p>First, create or open a Wave using the Google Wave website.<br />
<br />
<img src="/wp-content/uploads/2015/07/wave.png" alt="wave.png" /> <br /></p> <p>When a Wave is selected and displayed, the page's URL follows this pattern&nbsp;:</p> <pre> https://&lt;wave server&gt;/&lt;GUI configuration&gt;:&lt;wave type&gt;!w+&lt;wave id&gt;.&lt;some counter&gt; </pre> <p>For example, our sample wave's URL is&nbsp;:</p> <pre> https://wave.google.com/wave/?pli=1#restored:wave:googlewave.com!w%252BpRNN6dgjA </pre> <p>The two parameters we are interested in are&nbsp;:</p> <ul> <li>The server&nbsp;: "<code>googlewave.com</code>" (was "<code>wavesandbox.com</code>" for the "developer preview" accounts)</li> <li>The Wave's ID&nbsp;: here, "<code>pRNN6dgjA</code>" ("<code>w%252B</code>" is only the URL-encoded representation of "<code>w+</code>")</li> </ul> <h3>Embedding the wave</h3> <p>Now that we have the required parameters, let's embed the wave.<br />
This is as simple as&nbsp;:</p> <ol> <li>Providing a container for the Wave (a simple <code>&lt;div&gt;</code> will do)</li> <li>Importing the Embedded Wave API</li> <li>Writing a few lines of Javascript to instanciate the WavePanel that will load the Wave</li> </ol> <pre class="javascript code javascript" style="font-family:inherit"><ol><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">&lt;div id=&quot;waveframe&quot;&gt;&lt;/div&gt;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">&nbsp;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">&lt;script src=&quot;http://wave-api.appspot.com/public/embed.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #339933;">&lt;</span>script type<span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;text/javascript&quot;</span><span style="color: #339933;">&gt;</span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    <span style="color: #003366; font-weight: bold;">var</span> wavePanel <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> WavePanel<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'http://wave.google.com/wave/'</span><span style="color: #009900;">&#41;</span>;   </div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    wavePanel.<span style="color: #660066;">loadWave</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'googlewave.com!w+pRNN6dgjA'</span><span style="color: #009900;">&#41;</span>; <span style="color: #006600; font-style: italic;">// This is where we specify the server type and wave ID</span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    wavePanel.<span style="color: #660066;">init</span><span style="color: #009900;">&#40;</span>document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'waveframe'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #339933;">&lt;/</span>script<span style="color: #339933;">&gt;</span></div></li></ol></pre> <div id="waveframe1"></div> <script src="http://wave-api.appspot.com/public/embed.js" type="text/javascript"></script> <script type="text/javascript">     var wavePanel = new WavePanel('http://wave.google.com/wave/');     wavePanel.loadWave('googlewave.com!w+pRNN6dgjA');     wavePanel.init(document.getElementById('waveframe1')); </script> <h3>Styling the Wave</h3> <p>The default visual style is quite horrible, so let's pimp it a bit.<br /></p> <p>First, you can apply some CSS styling to the container (ex: <code>&lt;div&gt;</code>). Feel free to get as creative as you see fit here, but you will want to provide a better "height" value (500px to 1000px), because the default size is ridiculously small.</p> <p>Then, you can style the Wave itself. Well, sort of, because the WavePanel creates an IFrame in your container, so your page's CSS have absolutely no effect on how the Wave is rendered. <br />
To get around this, the API provides a "<code>UIConfig</code>" object that you can use to set some basic properties such as the background and foreground colors&nbsp;:</p> <pre class="javascript code javascript" style="font-family:inherit"><ol><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">&lt;div id=&quot;waveframe&quot; style=&quot;border:solid 1px #F90; height:500px;&quot;&gt;&lt;/div&gt;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">&nbsp;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">&lt;script src=&quot;http://wave-api.appspot.com/public/embed.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #339933;">&lt;</span>script type<span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;text/javascript&quot;</span><span style="color: #339933;">&gt;</span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    <span style="color: #006600; font-style: italic;">// Styling</span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    <span style="color: #003366; font-weight: bold;">var</span> uiConfig <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> WavePanel.<span style="color: #660066;">UIConfig</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    uiConfig.<span style="color: #660066;">setFooterEnabled</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    uiConfig.<span style="color: #660066;">setHeaderEnabled</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    uiConfig.<span style="color: #660066;">setToolbarEnabled</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    uiConfig.<span style="color: #660066;">setBgcolor</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'#FFF'</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    uiConfig.<span style="color: #660066;">setColor</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'#000'</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    uiConfig.<span style="color: #660066;">setFont</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'verdana'</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    uiConfig.<span style="color: #660066;">setFontSize</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'12px'</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">&nbsp;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    <span style="color: #006600; font-style: italic;">// Wave embedding</span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    <span style="color: #003366; font-weight: bold;">var</span> wavePanel <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> WavePanel<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'http://wave.google.com/wave/'</span><span style="color: #009900;">&#41;</span>;   </div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    wavePanel.<span style="color: #660066;">setUIConfigObject</span><span style="color: #009900;">&#40;</span>uiConfig<span style="color: #009900;">&#41;</span>; <span style="color: #006600; font-style: italic;">// Set the style</span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    wavePanel.<span style="color: #660066;">loadWave</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'googlewave.com!w+pRNN6dgjA'</span><span style="color: #009900;">&#41;</span>; <span style="color: #006600; font-style: italic;">// This is where we specify the server type and wave ID</span></div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;">    wavePanel.<span style="color: #660066;">init</span><span style="color: #009900;">&#40;</span>document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'waveframe'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>;</div></li><li style="font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;"><span style="color: #339933;">&lt;/</span>script<span style="color: #339933;">&gt;</span></div></li></ol></pre> <div id="waveframe2" style="border:solid 1px #F90; height:500px;"></div> <script src="http://wave-api.appspot.com/public/embed.js" type="text/javascript"></script> <script type="text/javascript">     // Styling     var uiConfig = new WavePanel.UIConfig();     uiConfig.setFooterEnabled(true);     uiConfig.setHeaderEnabled(true);     uiConfig.setToolbarEnabled(true);     uiConfig.setBgcolor('#FFF');     uiConfig.setColor('#000');     uiConfig.setFont('verdana');     uiConfig.setFontSize('12px');     // Wave embedding     var wavePanel = new WavePanel('http://wave.google.com/wave/');     wavePanel.setUIConfigObject(uiConfig); // Set the style     wavePanel.loadWave('googlewave.com!w+pRNN6dgjA'); // This is where we specify the server type and wave ID     wavePanel.init(document.getElementById('waveframe2')); </script> <p>Please note that the header/footer/toolbar-related parameters seem to have no visible effect - none I could find though.</p> <h3>Everyone's welcome</h3> <p>Is your Wave is on a public website or blog, you may want to allow everyone to read and/or modif
y it. If you skip this step, only the current participants will see it.</p> <p>To do this, get back to the standard Google Wave web interface, and add <strong><code>public@a.gwave.com</code></strong> to the Wave (you may need to add it to your contacts too). Then, click on its icon in your Wave and select "Full access" or "Read only" in the dropdown list. If you select Full Access, be aware that everyone will obviously be able to interact with the Wave and add, edit or remove replies.</p> <p><br />
<img src="/wp-content/uploads/2015/07/public.png" alt="public.png" /> <br /></p> <h3>Conclusion</h3> <p>Embedding a Wave is trivial once you get the correct instructions&nbsp;; I hope Google will update their online docs soon&nbsp;! In the meantime, I hope this tutorial has been of some use to you.</p> <p>The sample Wave use throughout this article is in "Full Access" mode, so feel free to drop a comment&nbsp;!</p>